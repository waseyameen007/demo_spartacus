import { InjectionToken } from '@angular/core';
import { StateUtils } from '@spartacus/core';
import { AsmActions } from '../actions';
import { CUSTOMER_SEARCH_DATA } from '../asm-state';
import * as fromAsmUiReducer from './asm-ui.reducer';
export function getReducers() {
    return {
        customerSearchResult: StateUtils.loaderReducer(CUSTOMER_SEARCH_DATA),
        asmUi: fromAsmUiReducer.reducer,
    };
}
export const reducerToken = new InjectionToken('AsmReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearCustomerSupportAgentAsmState(reducer) {
    return function (state, action) {
        if (action.type === AsmActions.LOGOUT_CUSTOMER_SUPPORT_AGENT) {
            state = Object.assign(Object.assign({}, state), { customerSearchResult: {} });
        }
        return reducer(state, action);
    };
}
export const metaReducers = [
    clearCustomerSupportAgentAsmState,
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvYXNtL2NvcmUvc3RvcmUvcmVkdWNlcnMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBWSxNQUFNLGVBQWUsQ0FBQztBQU96RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFN0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUN4QyxPQUFPLEVBQVksb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDOUQsT0FBTyxLQUFLLGdCQUFnQixNQUFNLGtCQUFrQixDQUFDO0FBRXJELE1BQU0sVUFBVSxXQUFXO0lBQ3pCLE9BQU87UUFDTCxvQkFBb0IsRUFDbEIsVUFBVSxDQUFDLGFBQWEsQ0FBcUIsb0JBQW9CLENBQUM7UUFDcEUsS0FBSyxFQUFFLGdCQUFnQixDQUFDLE9BQU87S0FDaEMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQ3ZCLElBQUksY0FBYyxDQUE2QixhQUFhLENBQUMsQ0FBQztBQUVoRSxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQWE7SUFDdkMsT0FBTyxFQUFFLFlBQVk7SUFDckIsVUFBVSxFQUFFLFdBQVc7Q0FDeEIsQ0FBQztBQUVGLE1BQU0sVUFBVSxpQ0FBaUMsQ0FDL0MsT0FBd0M7SUFFeEMsT0FBTyxVQUFVLEtBQTJCLEVBQUUsTUFBYztRQUMxRCxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLDZCQUE2QixFQUFFO1lBQzVELEtBQUssbUNBQ0MsS0FBa0IsS0FDdEIsb0JBQW9CLEVBQUUsRUFBZ0QsR0FDdkUsQ0FBQztTQUNIO1FBQ0QsT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQXVCO0lBQzlDLGlDQUFpQztDQUNsQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBY3Rpb24sXG4gIEFjdGlvblJlZHVjZXIsXG4gIEFjdGlvblJlZHVjZXJNYXAsXG4gIE1ldGFSZWR1Y2VyLFxufSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBTdGF0ZVV0aWxzIH0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7IEN1c3RvbWVyU2VhcmNoUGFnZSB9IGZyb20gJy4uLy4uL21vZGVscy9hc20ubW9kZWxzJztcbmltcG9ydCB7IEFzbUFjdGlvbnMgfSBmcm9tICcuLi9hY3Rpb25zJztcbmltcG9ydCB7IEFzbVN0YXRlLCBDVVNUT01FUl9TRUFSQ0hfREFUQSB9IGZyb20gJy4uL2FzbS1zdGF0ZSc7XG5pbXBvcnQgKiBhcyBmcm9tQXNtVWlSZWR1Y2VyIGZyb20gJy4vYXNtLXVpLnJlZHVjZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkdWNlcnMoKTogQWN0aW9uUmVkdWNlck1hcDxBc21TdGF0ZT4ge1xuICByZXR1cm4ge1xuICAgIGN1c3RvbWVyU2VhcmNoUmVzdWx0OlxuICAgICAgU3RhdGVVdGlscy5sb2FkZXJSZWR1Y2VyPEN1c3RvbWVyU2VhcmNoUGFnZT4oQ1VTVE9NRVJfU0VBUkNIX0RBVEEpLFxuICAgIGFzbVVpOiBmcm9tQXNtVWlSZWR1Y2VyLnJlZHVjZXIsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyVG9rZW46IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8QXNtU3RhdGU+PiA9XG4gIG5ldyBJbmplY3Rpb25Ub2tlbjxBY3Rpb25SZWR1Y2VyTWFwPEFzbVN0YXRlPj4oJ0FzbVJlZHVjZXJzJyk7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyUHJvdmlkZXI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiByZWR1Y2VyVG9rZW4sXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ3VzdG9tZXJTdXBwb3J0QWdlbnRBc21TdGF0ZShcbiAgcmVkdWNlcjogQWN0aW9uUmVkdWNlcjxBc21TdGF0ZSwgQWN0aW9uPlxuKTogQWN0aW9uUmVkdWNlcjxBc21TdGF0ZSwgQWN0aW9uPiB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGU6IEFzbVN0YXRlIHwgdW5kZWZpbmVkLCBhY3Rpb246IEFjdGlvbikge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQXNtQWN0aW9ucy5MT0dPVVRfQ1VTVE9NRVJfU1VQUE9SVF9BR0VOVCkge1xuICAgICAgc3RhdGUgPSB7XG4gICAgICAgIC4uLihzdGF0ZSBhcyBBc21TdGF0ZSksXG4gICAgICAgIGN1c3RvbWVyU2VhcmNoUmVzdWx0OiB7fSBhcyBTdGF0ZVV0aWxzLkxvYWRlclN0YXRlPEN1c3RvbWVyU2VhcmNoUGFnZT4sXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW1xuICBjbGVhckN1c3RvbWVyU3VwcG9ydEFnZW50QXNtU3RhdGUsXG5dO1xuIl19