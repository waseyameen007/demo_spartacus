{"version":3,"file":"spartacus-cart-import-export-core.js","sources":["../../../feature-libs/cart/import-export/core/config/import-export-config.ts","../../../feature-libs/cart/import-export/core/model/import-entries.config.ts","../../../feature-libs/cart/import-export/core/config/default-import-export-config.ts","../../../feature-libs/cart/import-export/core/import-export-core.module.ts","../../../feature-libs/cart/import-export/core/spartacus-cart-import-export-core.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Config } from '@spartacus/core';\nimport { ExportConfig } from '../model/export-entries.model';\nimport { ImportConfig } from '../model/import-entries.config';\n\n@Injectable({\n  providedIn: 'root',\n  useExisting: Config,\n})\nexport abstract class ImportExportConfig {\n  cartImportExport?: {\n    file: { separator: string };\n    import?: ImportConfig;\n    export: ExportConfig;\n  };\n}\n\ndeclare module '@spartacus/core' {\n  interface Config extends ImportExportConfig {}\n}\n","import { OrderEntriesSource } from '@spartacus/storefront';\n\n/**\n * Indicates from which source the new saved cart name\n * should be taken.\n */\nexport enum CartNameSource {\n  FILE_NAME = 'fileName',\n  DATE_TIME = 'dateTime',\n}\n\n/**\n * Specifies cart name generation details.\n */\nexport interface CartNameGeneration {\n  /**\n   *  If `source` is set as `DATE_TIME`, it means that by default\n   *  new saved cart name will be set as current date according to `fromDateOptions` property.\n   */\n  source?: CartNameSource;\n  fromDateOptions?: {\n    /**\n     * Adds text before the import date.\n     */\n    prefix?: string;\n\n    /**\n     * Adds text after the import date.\n     */\n    suffix?: string;\n\n    /**\n     * Transforms current date according to specified format.\n     */\n    mask?: string;\n  };\n}\n\n/**\n * Allows to specify file validation attributes.\n */\nexport interface FileValidity {\n  /**\n   * Maximum imported file size in megabytes.\n   */\n  maxSize?: number;\n\n  /**\n   * Maximum number for imported entries per place specified as key from `OrderEntriesSource`.\n   */\n  maxEntries?: {\n    [key in OrderEntriesSource]?: number;\n  };\n\n  /**\n   * String array with file types/extensions allowed for import.\n   */\n  allowedTypes?: string[];\n}\n/**\n * Interface for import config.\n */\nexport interface ImportConfig {\n  fileValidity?: FileValidity;\n  cartNameGeneration?: CartNameGeneration;\n}\n","import { OrderEntriesSource } from '@spartacus/storefront';\nimport { CartNameSource } from '../model/import-entries.config';\nimport { ImportExportConfig } from './import-export-config';\n\nexport const defaultImportExportConfig: ImportExportConfig = {\n  cartImportExport: {\n    file: {\n      separator: ',',\n    },\n    import: {\n      fileValidity: {\n        maxSize: 1,\n        maxEntries: {\n          [OrderEntriesSource.NEW_SAVED_CART]: 100,\n          [OrderEntriesSource.SAVED_CART]: 100,\n          [OrderEntriesSource.ACTIVE_CART]: 10,\n          [OrderEntriesSource.QUICK_ORDER]: 10,\n        },\n        allowedTypes: [\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n          'application/vnd.ms-excel',\n          'text/csv',\n          '.csv',\n        ],\n      },\n      cartNameGeneration: {\n        source: CartNameSource.FILE_NAME,\n      },\n    },\n    export: {\n      additionalColumns: [\n        {\n          name: {\n            key: 'name',\n          },\n          value: 'product.name',\n        },\n        {\n          name: {\n            key: 'price',\n          },\n          value: 'totalPrice.formattedValue',\n        },\n      ],\n      messageEnabled: true,\n      downloadDelay: 1000,\n      maxEntries: 1000,\n      fileOptions: {\n        fileName: 'cart',\n        extension: 'csv',\n        type: 'text/csv',\n      },\n    },\n  },\n};\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { defaultImportExportConfig } from './config/default-import-export-config';\n\n@NgModule({})\nexport class ImportExportCoreModule {\n  static forRoot(): ModuleWithProviders<ImportExportCoreModule> {\n    return {\n      ngModule: ImportExportCoreModule,\n      providers: [provideDefaultConfig(defaultImportExportConfig)],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;MASsB,kBAAkB;;+GAAlB,kBAAkB;mHAAlB,kBAAkB,cAH1B,MAAM,eACL,MAAM;2FAEC,kBAAkB;kBAJvC,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;oBAClB,WAAW,EAAE,MAAM;iBACpB;;;ACND;;;;IAIY;AAAZ,WAAY,cAAc;IACxB,wCAAsB,CAAA;IACtB,wCAAsB,CAAA;AACxB,CAAC,EAHW,cAAc,KAAd,cAAc;;MCFb,yBAAyB,GAAuB;IAC3D,gBAAgB,EAAE;QAChB,IAAI,EAAE;YACJ,SAAS,EAAE,GAAG;SACf;QACD,MAAM,EAAE;YACN,YAAY,EAAE;gBACZ,OAAO,EAAE,CAAC;gBACV,UAAU,EAAE;oBACV,CAAC,kBAAkB,CAAC,cAAc,GAAG,GAAG;oBACxC,CAAC,kBAAkB,CAAC,UAAU,GAAG,GAAG;oBACpC,CAAC,kBAAkB,CAAC,WAAW,GAAG,EAAE;oBACpC,CAAC,kBAAkB,CAAC,WAAW,GAAG,EAAE;iBACrC;gBACD,YAAY,EAAE;oBACZ,mEAAmE;oBACnE,0BAA0B;oBAC1B,UAAU;oBACV,MAAM;iBACP;aACF;YACD,kBAAkB,EAAE;gBAClB,MAAM,EAAE,cAAc,CAAC,SAAS;aACjC;SACF;QACD,MAAM,EAAE;YACN,iBAAiB,EAAE;gBACjB;oBACE,IAAI,EAAE;wBACJ,GAAG,EAAE,MAAM;qBACZ;oBACD,KAAK,EAAE,cAAc;iBACtB;gBACD;oBACE,IAAI,EAAE;wBACJ,GAAG,EAAE,OAAO;qBACb;oBACD,KAAK,EAAE,2BAA2B;iBACnC;aACF;YACD,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;YACnB,UAAU,EAAE,IAAI;YAChB,WAAW,EAAE;gBACX,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,KAAK;gBAChB,IAAI,EAAE,UAAU;aACjB;SACF;KACF;;;MChDU,sBAAsB;IACjC,OAAO,OAAO;QACZ,OAAO;YACL,QAAQ,EAAE,sBAAsB;YAChC,SAAS,EAAE,CAAC,oBAAoB,CAAC,yBAAyB,CAAC,CAAC;SAC7D,CAAC;KACH;;mHANU,sBAAsB;oHAAtB,sBAAsB;oHAAtB,sBAAsB;2FAAtB,sBAAsB;kBADlC,QAAQ;mBAAC,EAAE;;;ACJZ;;;;;;"}