{"version":3,"file":"spartacus-cart-quick-order-components.umd.js","sources":["../../../feature-libs/cart/quick-order/components/cart-quick-order-form/cart-quick-order-form.component.ts","../../../feature-libs/cart/quick-order/components/cart-quick-order-form/cart-quick-order-form.component.html","../../../feature-libs/cart/quick-order/components/cart-quick-order-form/cart-quick-order-form.module.ts","../../../node_modules/tslib/tslib.es6.js","../../../feature-libs/cart/quick-order/components/quick-order/form/quick-order-form.component.ts","../../../feature-libs/cart/quick-order/components/quick-order/form/quick-order-form.component.html","../../../feature-libs/cart/quick-order/components/quick-order/table/item/quick-order-item.component.ts","../../../feature-libs/cart/quick-order/components/quick-order/table/item/quick-order-item.component.html","../../../feature-libs/cart/quick-order/components/quick-order/table/quick-order-table.component.ts","../../../feature-libs/cart/quick-order/components/quick-order/table/quick-order-table.component.html","../../../feature-libs/cart/quick-order/components/quick-order/quick-order.component.ts","../../../feature-libs/cart/quick-order/components/quick-order/quick-order.component.html","../../../feature-libs/cart/quick-order/components/quick-order/quick-order-list.module.ts","../../../feature-libs/cart/quick-order/components/quick-order-components.module.ts","../../../feature-libs/cart/quick-order/components/spartacus-cart-quick-order-components.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport {\n  ActiveCartService,\n  Cart,\n  CartAddEntryFailEvent,\n  CartAddEntrySuccessEvent,\n  EventService,\n  GlobalMessageService,\n  GlobalMessageType,\n} from '@spartacus/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { first, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'cx-cart-quick-order-form',\n  templateUrl: './cart-quick-order-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CartQuickOrderFormComponent implements OnInit, OnDestroy {\n  quickOrderForm: FormGroup;\n  cartIsLoading$: Observable<boolean> = this.activeCartService\n    .isStable()\n    .pipe(map((loaded) => !loaded));\n  cart$: Observable<Cart> = this.activeCartService.getActive();\n  min = 1;\n\n  protected subscription: Subscription = new Subscription();\n  protected cartEventsSubscription: Subscription = new Subscription();\n  protected minQuantityValue: number = 1;\n\n  constructor(\n    protected activeCartService: ActiveCartService,\n    protected eventService: EventService,\n    protected formBuilder: FormBuilder,\n    protected globalMessageService: GlobalMessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.buildForm();\n    this.watchQuantityChange();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n    this.cartEventsSubscription?.unsubscribe();\n  }\n\n  applyQuickOrder(): void {\n    if (this.quickOrderForm.invalid) {\n      this.quickOrderForm.markAllAsTouched();\n      return;\n    }\n\n    const productCode = this.quickOrderForm.get('productCode')?.value;\n    const quantity = this.quickOrderForm.get('quantity')?.value;\n\n    this.watchAddEntrySuccessEvent();\n    this.watchAddEntryFailEvent();\n\n    if (productCode && quantity) {\n      this.activeCartService.addEntry(productCode, quantity);\n    }\n  }\n\n  protected buildForm(): void {\n    this.quickOrderForm = this.formBuilder.group({\n      productCode: ['', [Validators.required]],\n      quantity: [\n        this.minQuantityValue,\n        { updateOn: 'blur', validators: [Validators.required] },\n      ],\n    });\n  }\n\n  protected watchQuantityChange(): void {\n    this.subscription.add(\n      this.quickOrderForm\n        .get('quantity')\n        ?.valueChanges.subscribe((value) =>\n          this.quickOrderForm\n            .get('quantity')\n            ?.setValue(this.getValidCount(value), { emitEvent: false })\n        )\n    );\n  }\n\n  protected watchAddEntrySuccessEvent(): void {\n    this.cartEventsSubscription.add(\n      this.eventService\n        .get(CartAddEntrySuccessEvent)\n        .pipe(first())\n        .subscribe((data: CartAddEntrySuccessEvent) => {\n          let key = 'quickOrderCartForm.stockLevelReached';\n          let productTranslation;\n          let messageType = GlobalMessageType.MSG_TYPE_WARNING;\n\n          if (data.quantityAdded) {\n            key =\n              data.quantityAdded > 1\n                ? 'quickOrderCartForm.entriesWereAdded'\n                : 'quickOrderCartForm.entryWasAdded';\n\n            productTranslation =\n              data.quantityAdded > 1\n                ? 'quickOrderCartForm.products'\n                : 'quickOrderCartForm.product';\n\n            messageType = GlobalMessageType.MSG_TYPE_CONFIRMATION;\n          }\n\n          this.globalMessageService.add(\n            {\n              key,\n              params: {\n                product: data?.entry?.product?.name || productTranslation,\n                quantity: data.quantityAdded,\n              },\n            },\n            messageType\n          );\n          this.resetForm();\n        })\n    );\n  }\n\n  protected watchAddEntryFailEvent(): void {\n    this.cartEventsSubscription.add(\n      this.eventService\n        .get(CartAddEntryFailEvent)\n        .pipe(first())\n        .subscribe(() => {\n          this.globalMessageService.add(\n            {\n              key: 'quickOrderCartForm.noResults',\n            },\n            GlobalMessageType.MSG_TYPE_ERROR\n          );\n        })\n    );\n  }\n\n  protected getValidCount(value: number) {\n    if (value < this.min || !value) {\n      value = this.min;\n    }\n\n    return value;\n  }\n\n  protected resetForm(): void {\n    this.quickOrderForm.reset();\n  }\n}\n","<ng-container *ngIf=\"cart$ | async as cart\">\n  <div class=\"cx-cart-quick-order-form-title\">\n    {{ 'quickOrderCartForm.title' | cxTranslate }}\n  </div>\n  <div class=\"form-group\">\n    <form (ngSubmit)=\"applyQuickOrder()\" [formGroup]=\"quickOrderForm\">\n      <div class=\"cx-cart-quick-order-form-container\">\n        <span class=\"cx-cart-quick-order-form-productID\">\n          <label class=\"cx-cart-quick-order-form-label\">\n            {{ 'quickOrderCartForm.productCodeLabel' | cxTranslate }}\n          </label>\n          <input\n            aria-required=\"true\"\n            class=\"form-control input-product-code\"\n            formControlName=\"productCode\"\n            placeholder=\"{{\n              'quickOrderCartForm.productCodePlaceholder' | cxTranslate\n            }}\"\n            type=\"text\"\n          />\n        </span>\n\n        <span class=\"cx-cart-quick-order-form-qty\">\n          <label class=\"cx-cart-quick-order-form-label\">\n            {{ 'quickOrderCartForm.quantityLabel' | cxTranslate }}\n          </label>\n          <input\n            aria-required=\"true\"\n            class=\"form-control input-quantity\"\n            formControlName=\"quantity\"\n            type=\"number\"\n          />\n        </span>\n        <button\n          [class.disabled]=\"cartIsLoading$ | async\"\n          [disabled]=\"cartIsLoading$ | async\"\n          class=\"btn btn-block btn-action apply-quick-order-button\"\n          type=\"submit\"\n        >\n          {{ 'quickOrderCartForm.addToCart' | cxTranslate }}\n        </button>\n        <cx-form-errors\n          aria-live=\"assertive\"\n          aria-atomic=\"true\"\n          [control]=\"quickOrderForm.get('productCode')\"\n        ></cx-form-errors>\n        <cx-form-errors\n          aria-live=\"assertive\"\n          aria-atomic=\"true\"\n          [control]=\"quickOrderForm.get('quantity')\"\n        ></cx-form-errors>\n      </div>\n    </form></div\n></ng-container>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CmsConfig, I18nModule, provideDefaultConfig } from '@spartacus/core';\nimport { FormErrorsModule } from '@spartacus/storefront';\nimport { CartQuickOrderFormComponent } from './cart-quick-order-form.component';\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule, I18nModule, FormErrorsModule],\n  providers: [\n    provideDefaultConfig(<CmsConfig>{\n      cmsComponents: {\n        CartQuickOrderFormComponent: {\n          component: CartQuickOrderFormComponent,\n        },\n      },\n    }),\n  ],\n  declarations: [CartQuickOrderFormComponent],\n  exports: [CartQuickOrderFormComponent],\n})\nexport class CartQuickOrderFormModule {}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { QuickOrderFacade } from '@spartacus/cart/quick-order/root';\nimport {\n  Config,\n  GlobalMessageService,\n  Product,\n  WindowRef,\n} from '@spartacus/core';\nimport { ICON_TYPE } from '@spartacus/storefront';\nimport { Observable, Subscription } from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  filter,\n  switchMap,\n  take,\n} from 'rxjs/operators';\n\n@Component({\n  selector: 'cx-quick-order-form',\n  templateUrl: './quick-order-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class QuickOrderFormComponent implements OnInit, OnDestroy {\n  form: FormGroup;\n  iconTypes = ICON_TYPE;\n  isSearching: boolean = false;\n  noResults: boolean = false;\n  results: Product[] = [];\n\n  protected subscription = new Subscription();\n  protected searchSubscription = new Subscription();\n\n  /**\n   * @deprecated since version 4.2\n   * Use constructor(globalMessageService: GlobalMessageService, quickOrderService: QuickOrderFacade, config: Config, cd: ChangeDetectorRef, winRef: WindowRef); instead\n   */\n  // TODO(#14058): Remove deprecated constructor\n  constructor(\n    globalMessageService: GlobalMessageService,\n    quickOrderService: QuickOrderFacade\n  );\n\n  constructor(\n    protected globalMessageService: GlobalMessageService, // TODO(#14058): Remove it as it is not in use anymore\n    protected quickOrderService: QuickOrderFacade,\n    public config?: Config, // TODO(#14058): Make it required\n    protected cd?: ChangeDetectorRef, // TODO(#14058): Make it required\n    protected winRef?: WindowRef // TODO(#14058): Make it required\n  ) {}\n\n  ngOnInit(): void {\n    this.buildForm();\n    this.subscription.add(this.watchProductAdd());\n    this.subscription.add(this.watchQueryChange());\n  }\n\n  onBlur(event: UIEvent): void {\n    // Use timeout to detect changes\n    setTimeout(() => {\n      if (!this.isSuggestionFocused()) {\n        this.blurSuggestionBox(event);\n      }\n    });\n  }\n\n  clear(event?: Event): void {\n    event?.preventDefault();\n\n    if (this.isResultsBoxOpen()) {\n      this.toggleBodyClass('quick-order-searchbox-is-active', false);\n    }\n\n    let product = this.form.get('product')?.value;\n\n    if (!!product) {\n      this.form.reset();\n    }\n\n    // We have to call 'close' method every time to make sure results list is empty and call detectChanges to change icon type in form\n    this.close();\n    this.cd?.detectChanges();\n  }\n\n  add(product: Product, event: Event): void {\n    event?.preventDefault();\n\n    // TODO change to nonpurchasable flag once we will support multidimensional products in search and when the purchasable flag will be available in search product response\n\n    // Check if product is purchasable / non multidimensional\n    if (product.multidimensional) {\n      this.quickOrderService.setNonPurchasableProductError(product);\n      this.clear();\n      return;\n    } else {\n      this.quickOrderService.clearNonPurchasableProductError();\n    }\n\n    this.quickOrderService.addProduct(product);\n  }\n\n  addProduct(event: Event): void {\n    this.quickOrderService\n      .canAdd()\n      .pipe(take(1))\n      .subscribe((canAdd: boolean) => {\n        if (canAdd) {\n          // Add product if there is only one in the result list\n          if (this.results.length === 1) {\n            this.add(this.results[0], event);\n            // Add product if there is focus on it\n          } else if (this.getFocusedIndex() !== -1) {\n            const product = this.results[this.getFocusedIndex()];\n            this.add(product, event);\n          }\n        }\n      });\n  }\n\n  focusNextChild(event: UIEvent): void {\n    event.preventDefault(); // Negate normal keyscroll\n    if (!this.results.length) {\n      return;\n    }\n\n    const [results, focusedIndex] = [\n      this.getResultElements(),\n      this.getFocusedIndex(),\n    ];\n\n    // Focus on first index moving to last\n    if (results.length) {\n      if (focusedIndex >= results.length - 1) {\n        results[0].focus();\n      } else {\n        results[focusedIndex + 1].focus();\n      }\n    }\n  }\n\n  focusPreviousChild(event: UIEvent): void {\n    event.preventDefault(); // Negate normal keyscroll\n    if (!this.results.length) {\n      return;\n    }\n\n    const [results, focusedIndex] = [\n      this.getResultElements(),\n      this.getFocusedIndex(),\n    ];\n\n    // Focus on last index moving to first\n    if (results.length) {\n      if (focusedIndex < 1) {\n        results[results.length - 1].focus();\n      } else {\n        results[focusedIndex - 1].focus();\n      }\n    }\n  }\n\n  isResultsBoxOpen(): boolean {\n    return this.winRef\n      ? !!this.winRef.document.querySelector('.quick-order-searchbox-is-active')\n      : false;\n  }\n\n  canAddProduct(): Observable<boolean> {\n    return this.quickOrderService.canAdd();\n  }\n\n  open(): void {\n    this.toggleBodyClass('quick-order-searchbox-is-active', true);\n  }\n\n  // Return result list as HTMLElement array\n  protected getResultElements(): HTMLElement[] {\n    if (this.winRef) {\n      return Array.from(\n        this.winRef.document.querySelectorAll(\n          '.quick-order-results-products > li button'\n        )\n      );\n    } else {\n      return [];\n    }\n  }\n\n  protected blurSuggestionBox(event: UIEvent): void {\n    this.toggleBodyClass('quick-order-searchbox-is-active', false);\n\n    if (event && event.target) {\n      (<HTMLElement>event.target).blur();\n    }\n  }\n\n  // Return focused element as HTMLElement\n  protected getFocusedElement(): HTMLElement | any {\n    if (this.winRef) {\n      return <HTMLElement>this.winRef.document.activeElement;\n    }\n  }\n\n  protected getFocusedIndex(): number {\n    return this.getResultElements().indexOf(this.getFocusedElement());\n  }\n\n  protected isSuggestionFocused(): boolean {\n    return this.getResultElements().includes(this.getFocusedElement());\n  }\n\n  protected toggleBodyClass(className: string, add?: boolean) {\n    // TODO(#14058): Remove condition\n    if (this.winRef) {\n      if (add === undefined) {\n        this.winRef.document.body.classList.toggle(className);\n      } else {\n        add\n          ? this.winRef.document.body.classList.add(className)\n          : this.winRef.document.body.classList.remove(className);\n      }\n    }\n  }\n\n  protected buildForm() {\n    const form = new FormGroup({});\n    form.setControl('product', new FormControl(null));\n\n    this.form = form;\n  }\n\n  protected isEmpty(string?: string): boolean {\n    return string?.trim() === '' || string == null;\n  }\n\n  protected watchQueryChange(): Subscription {\n    return this.form.valueChanges\n      .pipe(\n        distinctUntilChanged(),\n        debounceTime(300),\n        filter((value) => {\n          if (this.config?.quickOrder?.searchForm) {\n            //Check if input to quick order is an empty after deleting input manually\n            if (this.isEmpty(value.product)) {\n              //Clear recommendation results on empty string\n              this.clear();\n              return false;\n            }\n            return (\n              !!value.product &&\n              value.product.length >=\n                this.config.quickOrder?.searchForm?.minCharactersBeforeRequest\n            );\n          }\n\n          return value;\n        })\n      )\n      .subscribe((value) => {\n        this.searchProducts(value.product);\n      });\n  }\n\n  protected searchProducts(query: string): void {\n    this.searchSubscription.add(\n      this.canAddProduct()\n        .pipe(\n          filter(Boolean),\n          switchMap(() =>\n            this.quickOrderService\n              .searchProducts(\n                query,\n                this.config?.quickOrder?.searchForm?.maxProducts\n              )\n              .pipe(take(1))\n          )\n        )\n        .subscribe((products) => {\n          this.results = products;\n\n          if (this.results.length) {\n            this.noResults = false;\n            this.open();\n          } else {\n            this.noResults = true;\n          }\n\n          this.cd?.detectChanges();\n        })\n    );\n  }\n\n  protected clearResults(): void {\n    this.results = [];\n  }\n\n  protected close(): void {\n    this.resetSearchSubscription();\n    this.clearResults();\n    this.noResults = false;\n  }\n\n  protected resetSearchSubscription(): void {\n    this.searchSubscription.unsubscribe();\n    this.searchSubscription = new Subscription();\n  }\n\n  protected watchProductAdd(): Subscription {\n    return this.quickOrderService\n      .getProductAdded()\n      .subscribe(() => this.clear());\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<form [formGroup]=\"form\" class=\"quick-order-form-container\">\n  <div class=\"quick-order-form-input\">\n    <input\n      (blur)=\"onBlur($event)\"\n      (focus)=\"open()\"\n      (keydown.arrowdown)=\"focusNextChild($event)\"\n      (keydown.arrowup)=\"focusPreviousChild($event)\"\n      (keydown.enter)=\"addProduct($event)\"\n      (keydown.escape)=\"clear($event)\"\n      [attr.aria-label]=\"'common.search' | cxTranslate\"\n      class=\"form-control\"\n      formControlName=\"product\"\n      placeholder=\"{{ 'quickOrderForm.placeholder' | cxTranslate }}\"\n      type=\"text\"\n    />\n\n    <button\n      *ngIf=\"form.get('product')?.value; else searchIcon\"\n      (click)=\"clear($event)\"\n      (keydown.enter)=\"clear($event)\"\n      [attr.aria-label]=\"'common.reset' | cxTranslate\"\n      class=\"quick-order-form-reset-icon\"\n    >\n      <cx-icon [type]=\"iconTypes.RESET\"></cx-icon>\n    </button>\n\n    <ng-template #searchIcon>\n      <button\n        [attr.aria-label]=\"'common.search' | cxTranslate\"\n        class=\"quick-order-form-search-icon\"\n        tabindex=\"-1\"\n      >\n        <cx-icon [type]=\"iconTypes.SEARCH\"></cx-icon>\n      </button>\n    </ng-template>\n\n    <span\n      *ngIf=\"!(canAddProduct() | async) && form.get('product')?.dirty\"\n      class=\"list-limit-reached-text\"\n    >\n      {{ 'quickOrderForm.listLimitReached' | cxTranslate }}\n    </span>\n  </div>\n\n  <div *ngIf=\"isResultsBoxOpen()\" role=\"listbox\" class=\"quick-order-results\">\n    <ul *ngIf=\"results.length\" class=\"quick-order-results-products\">\n      <li\n        *ngFor=\"let product of results; let i = index\"\n        class=\"quick-order-results-product-container\"\n      >\n        <button\n          (blur)=\"onBlur($event)\"\n          (click)=\"add(product, $event)\"\n          (keydown.arrowdown)=\"focusNextChild($event)\"\n          (keydown.arrowup)=\"focusPreviousChild($event)\"\n          (keydown.enter)=\"add(product, $event)\"\n          (keydown.escape)=\"clear($event)\"\n          [attr.aria-label]=\"\n            'quickOrderForm.addProduct' | cxTranslate: { product: product.name }\n          \"\n          [class.has-media]=\"\n            config?.quickOrder?.searchForm?.displayProductImages\n          \"\n          class=\"quick-order-results-product\"\n        >\n          <cx-media\n            *ngIf=\"config?.quickOrder?.searchForm?.displayProductImages\"\n            [container]=\"product.images?.PRIMARY\"\n            class=\"media\"\n            format=\"thumbnail\"\n            role=\"presentation\"\n          ></cx-media>\n          <div class=\"name\" [innerHTML]=\"product.name\"></div>\n          <span class=\"id\">\n            {{\n              'quickOrderForm.id'\n                | cxTranslate\n                  : {\n                      id: product.code\n                    }\n            }}\n          </span>\n          <span class=\"price\">{{ product.price?.formattedValue }}</span>\n        </button>\n      </li>\n    </ul>\n\n    <span *ngIf=\"noResults\" class=\"quick-order-no-results\">\n      {{ 'quickOrderForm.noResults' | cxTranslate }}\n    </span>\n  </div>\n</form>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { QuickOrderFacade } from '@spartacus/cart/quick-order/root';\nimport { OrderEntry } from '@spartacus/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'cx-quick-order-item',\n  templateUrl: './quick-order-item.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class QuickOrderItemComponent implements OnInit, OnDestroy {\n  quantityControl: FormControl;\n\n  get entry(): OrderEntry {\n    return this._entry;\n  }\n\n  @Input('entry') set entry(value: OrderEntry) {\n    this._entry = value;\n    this.quantityControl = new FormControl(this.entry.quantity, {\n      updateOn: 'blur',\n    });\n  }\n\n  @Input()\n  index: number;\n\n  @Input()\n  loading: boolean = false;\n\n  protected _entry: OrderEntry;\n  protected subscription = new Subscription();\n\n  constructor(\n    protected cd: ChangeDetectorRef,\n    protected quickOrderService: QuickOrderFacade\n  ) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.quantityControl.valueChanges.subscribe(() => {\n        this.quickOrderService.updateEntryQuantity(\n          this.index,\n          this.quantityControl.value\n        );\n      })\n    );\n\n    this.subscription.add(this.watchProductAdd());\n  }\n\n  removeEntry(): void {\n    this.quickOrderService.softDeleteEntry(this.index);\n    this.cd.detectChanges();\n  }\n\n  protected watchProductAdd(): Subscription {\n    return this.quickOrderService.getProductAdded().subscribe((productCode) => {\n      if (productCode === this.entry.product?.code) {\n        this.quantityControl = new FormControl(this.entry.quantity);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n  }\n}\n","<div class=\"cx-quick-order-table-item\">\n  <div class=\"row\">\n    <div class=\"col-2 col-md-1 cx-quick-order-image-container\">\n      <div class=\"cx-quick-order-table-item-product-image\">\n        <a\n          [ngClass]=\"{ disabled: loading }\"\n          [routerLink]=\"{ cxRoute: 'product', params: entry.product } | cxUrl\"\n          tabindex=\"-1\"\n        >\n          <cx-media\n            [container]=\"entry?.product?.images?.PRIMARY\"\n            format=\"cartIcon\"\n          ></cx-media>\n        </a>\n      </div>\n    </div>\n\n    <div class=\"col-10 col-md-11 cx-quick-order-info-container\">\n      <div class=\"row\">\n        <div\n          class=\"\n            cx-quick-order-table-item-product-information\n            col-md-4 col-lg-4 col-xl-4\n          \"\n        >\n          <div class=\"cx-name\">\n            <a\n              [ngClass]=\"{ disabled: loading }\"\n              [routerLink]=\"\n                { cxRoute: 'product', params: entry.product } | cxUrl\n              \"\n              class=\"cx-link\"\n              >{{ entry.product?.name || '-' }}\n            </a>\n          </div>\n\n          <div class=\"cx-code\">\n            {{ 'quickOrderTable.id' | cxTranslate }} {{ entry.product?.code }}\n          </div>\n        </div>\n\n        <div class=\"cx-quick-order-table-item-price col-md-2 col-lg-2 col-xl-2\">\n          <span class=\"cx-label\">\n            {{ 'quickOrderTable.itemPrice' | cxTranslate }}\n          </span>\n          <div class=\"cx-value\">\n            {{ entry.basePrice?.formattedValue || '-' }}\n          </div>\n        </div>\n\n        <div\n          class=\"cx-quick-order-table-item-quantity col-md-4 col-lg-4 col-xl-4\"\n        >\n          <span class=\"cx-label\">\n            {{ 'quickOrderTable.qty' | cxTranslate }}\n          </span>\n          <cx-item-counter\n            [control]=\"quantityControl\"\n            [max]=\"entry.product?.stock?.stockLevel\"\n            [readonly]=\"loading\"\n          ></cx-item-counter>\n        </div>\n\n        <div\n          class=\"cx-quick-order-table-item-action col-md-2 col-lg-2 col-xl-2\"\n        >\n          <button\n            (click)=\"removeEntry()\"\n            [disabled]=\"loading\"\n            class=\"link cx-action-link\"\n          >\n            {{ 'common.remove' | cxTranslate }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { OrderEntry } from '@spartacus/core';\n\n@Component({\n  selector: 'cx-quick-order-table',\n  templateUrl: './quick-order-table.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class QuickOrderTableComponent {\n  @Input()\n  entries: OrderEntry[] = [];\n\n  @Input()\n  loading: boolean = false;\n}\n","<div *ngIf=\"entries?.length > 0\" class=\"cx-quick-order-table-wrapper\">\n  <div class=\"cx-quick-order-table-header\">\n    <div class=\"row\">\n      <div class=\"col-2 col-md-1 cx-quick-order-image-header\"></div>\n\n      <div class=\"col-10 col-md-11 cx-quick-order-info-header\">\n        <div class=\"row\">\n          <div\n            class=\"cx-quick-order-table-item-product col-md-4 col-lg-4 col-xl-4\"\n          >\n            {{ 'quickOrderTable.product' | cxTranslate }}\n          </div>\n          <div\n            class=\"cx-quick-order-table-item-price col-md-2 col-lg-2 col-xl-2\"\n          >\n            {{ 'quickOrderTable.price' | cxTranslate }}\n          </div>\n          <div\n            class=\"\n              cx-quick-order-table-item-quantity\n              col-md-4 col-lg-4 col-xl-4\n            \"\n          >\n            {{ 'quickOrderTable.quantity' | cxTranslate }}\n          </div>\n          <div\n            class=\"cx-quick-order-table-item-action col-md-2 col-lg-2 col-xl-2\"\n          ></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    *ngFor=\"let entry of entries; let i = index\"\n    class=\"cx-quick-order-table-row\"\n  >\n    <cx-quick-order-item\n      [entry]=\"entry\"\n      [index]=\"i\"\n      [loading]=\"loading\"\n    ></cx-quick-order-item>\n  </div>\n</div>\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport {\n  CmsQuickOrderComponent,\n  QuickOrderStatePersistenceService,\n} from '@spartacus/cart/quick-order/core';\nimport {\n  QuickOrderAddEntryEvent,\n  QuickOrderFacade,\n} from '@spartacus/cart/quick-order/root';\nimport {\n  ActiveCartService,\n  GlobalMessageService,\n  GlobalMessageType,\n  OrderEntry,\n  Product,\n} from '@spartacus/core';\nimport { CmsComponentData } from '@spartacus/storefront';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { first, map, tap } from 'rxjs/operators';\nimport { QuickOrderFormComponent } from './form/quick-order-form.component';\n\n@Component({\n  selector: 'cx-quick-order',\n  templateUrl: './quick-order.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class QuickOrderComponent implements OnInit, OnDestroy {\n  cartId$: Observable<string>;\n  entries$: Observable<OrderEntry[]>;\n  quickOrderListLimit$: Observable<number | undefined> =\n    this.component.data$.pipe(\n      map((data) => data.quickOrderListLimit),\n      tap((limit) => {\n        if (!!limit) {\n          this.quickOrderService.setListLimit(limit);\n        }\n      })\n    );\n  isCartStable$: Observable<boolean> = combineLatest([\n    this.activeCartService.getActiveCartId(),\n    this.activeCartService.isStable(),\n  ]).pipe(map(([activeCartId, isStable]) => (!activeCartId ? true : isStable)));\n  globalMessageType = GlobalMessageType;\n  listLimitReached$: Observable<boolean>;\n\n  @ViewChild('quickOrderForm')\n  quickOrderForm: QuickOrderFormComponent;\n\n  protected cartErrors$ = new BehaviorSubject<QuickOrderAddEntryEvent[]>([]);\n  protected cartWarnings$ = new BehaviorSubject<QuickOrderAddEntryEvent[]>([]);\n  protected cartSuccesses$ = new BehaviorSubject<OrderEntry[]>([]);\n  protected showAddToCartInformation$ = new BehaviorSubject<boolean>(false);\n  protected nonPurchasableProductError$ = new BehaviorSubject<Product | null>(\n    null\n  );\n\n  constructor(\n    protected activeCartService: ActiveCartService,\n    protected component: CmsComponentData<CmsQuickOrderComponent>,\n    protected globalMessageService: GlobalMessageService,\n    protected quickOrderService: QuickOrderFacade,\n    protected quickOrderStatePersistenceService: QuickOrderStatePersistenceService\n  ) {}\n\n  ngOnInit(): void {\n    this.cartId$ = this.activeCartService.getActiveCartId();\n    this.entries$ = this.quickOrderService.getEntries();\n    this.quickOrderStatePersistenceService.initSync();\n  }\n\n  ngOnDestroy(): void {\n    this.quickOrderService.clearDeletedEntries();\n  }\n\n  get errors$(): Observable<QuickOrderAddEntryEvent[]> {\n    return this.cartErrors$.asObservable();\n  }\n\n  get warnings$(): Observable<QuickOrderAddEntryEvent[]> {\n    return this.cartWarnings$.asObservable();\n  }\n\n  get successes$(): Observable<OrderEntry[]> {\n    return this.cartSuccesses$.asObservable();\n  }\n\n  get nonPurchasableError$(): Observable<Product | null> {\n    return this.quickOrderService.getNonPurchasableProductError();\n  }\n\n  get addToCartInformation$(): Observable<boolean> {\n    return this.showAddToCartInformation$.asObservable();\n  }\n\n  get softDeletedEntries$(): Observable<Record<string, OrderEntry>> {\n    return this.quickOrderService.getSoftDeletedEntries();\n  }\n\n  clear(): void {\n    this.quickOrderService.clearList();\n    this.globalMessageService.add(\n      {\n        key: 'quickOrderTable.listCleared',\n      },\n      GlobalMessageType.MSG_TYPE_INFO\n    );\n  }\n\n  addToCart(orderEntries: OrderEntry[]): void {\n    if (!orderEntries.length) {\n      this.showAddToCartInformation$.next(true);\n      return;\n    }\n\n    this.clearStatuses();\n\n    this.quickOrderService\n      .addToCart()\n      .pipe(first())\n      .subscribe(([entries, errors]) => {\n        errors.forEach((err) => {\n          if (!err.entry) {\n            err.entry = orderEntries.find(\n              (e) => e.product?.code === err.productCode\n            );\n          }\n        });\n\n        this.extractErrors(errors);\n        this.extractWarnings(errors);\n\n        if (!errors.length) {\n          this.showAddedToCartSuccessMessage();\n        } else {\n          this.extractSuccesses(errors, entries);\n        }\n      });\n  }\n\n  clearErrors(): void {\n    this.cartErrors$.next([]);\n  }\n\n  clearWarnings(): void {\n    this.cartWarnings$.next([]);\n  }\n\n  clearSuccesses(): void {\n    this.cartSuccesses$.next([]);\n  }\n\n  clearAddToCartInformation(): void {\n    this.showAddToCartInformation$.next(false);\n  }\n\n  undoDeletion(entry: OrderEntry): void {\n    if (entry.product?.code) {\n      this.quickOrderService.restoreSoftDeletedEntry(entry.product.code);\n    }\n  }\n\n  clearDeletion(entry: OrderEntry): void {\n    if (entry.product?.code) {\n      this.quickOrderService.hardDeleteEntry(entry.product.code);\n    }\n  }\n\n  clearNonPurchasableError(): void {\n    this.quickOrderService.clearNonPurchasableProductError();\n  }\n\n  canAddProduct(): Observable<boolean> {\n    return this.quickOrderService.canAdd();\n  }\n\n  protected extractErrors(errors: QuickOrderAddEntryEvent[]): void {\n    const noAddedEntries = errors.filter((error) => error.quantityAdded === 0);\n\n    this.setErrors(noAddedEntries);\n  }\n\n  protected extractWarnings(errors: QuickOrderAddEntryEvent[]): void {\n    const warnings = errors.filter((error) => error.quantityAdded !== 0);\n\n    this.setWarnings(warnings);\n  }\n\n  protected extractSuccesses(\n    errors: QuickOrderAddEntryEvent[],\n    entries: OrderEntry[]\n  ): void {\n    const successAddedEntries: OrderEntry[] = [];\n\n    entries.forEach((entry) => {\n      const element = errors.find(\n        (error) => error.productCode === entry.product?.code\n      );\n      if (!element) {\n        successAddedEntries.push(entry);\n      }\n    });\n\n    this.setSuccesses(successAddedEntries);\n  }\n\n  protected clearStatuses(): void {\n    this.clearErrors();\n    this.clearWarnings();\n    this.clearSuccesses();\n  }\n\n  protected showAddedToCartSuccessMessage(): void {\n    this.globalMessageService.add(\n      {\n        key: 'quickOrderTable.addedtoCart',\n      },\n      GlobalMessageType.MSG_TYPE_CONFIRMATION\n    );\n  }\n\n  protected setErrors(errors: QuickOrderAddEntryEvent[]): void {\n    this.cartErrors$.next(errors);\n  }\n\n  protected setWarnings(warnings: QuickOrderAddEntryEvent[]): void {\n    this.cartWarnings$.next(warnings);\n  }\n\n  protected setSuccesses(entries: OrderEntry[]): void {\n    this.cartSuccesses$.next(entries);\n  }\n}\n","<ng-container *ngIf=\"entries$ | async as entries\">\n  <ng-container *ngIf=\"!(canAddProduct() | async)\">\n    <ng-container *ngIf=\"quickOrderForm?.form?.get('product')?.dirty\">\n      <cx-message\n        [text]=\"\n          'quickOrderList.errors.listIsFull'\n            | cxTranslate: { count: entries.length }\n        \"\n        [isVisibleCloseButton]=\"false\"\n        [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n        class=\"quick-order-list-limit-message\"\n      >\n      </cx-message>\n    </ng-container>\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf=\"addToCartInformation$ | async\">\n  <cx-message\n    (closeMessage)=\"clearAddToCartInformation()\"\n    [text]=\"\n      'quickOrderList.informations.addProductBeforeAddingToCart' | cxTranslate\n    \"\n    [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n    class=\"quick-order-add-to-cart-information-message\"\n  >\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"nonPurchasableError$ | async as nonPurchasableError\">\n  <cx-message\n    (closeMessage)=\"clearNonPurchasableError()\"\n    [text]=\"\n      'quickOrderList.errors.nonPurchasableError'\n        | cxTranslate: { name: nonPurchasableError.name }\n    \"\n    [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n    class=\"quick-order-non-purchasable-product-error-message\"\n  >\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"softDeletedEntries$ | async as deletedEntries\">\n  <cx-message\n    *ngFor=\"let deletedEntry of deletedEntries | keyvalue\"\n    (buttonAction)=\"undoDeletion(deletedEntry.value)\"\n    (closeMessage)=\"clearDeletion(deletedEntry.value)\"\n    [actionButtonText]=\"'quickOrderList.undo' | cxTranslate\"\n    [text]=\"\n      'quickOrderList.productWasDeleted'\n        | cxTranslate: { name: deletedEntry.value.product?.name }\n    \"\n    [type]=\"globalMessageType.MSG_TYPE_CONFIRMATION\"\n    class=\"quick-order-deletions-message\"\n  >\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"errors$ | async as errors\">\n  <cx-message\n    *ngIf=\"errors.length\"\n    (closeMessage)=\"clearErrors()\"\n    [accordionText]=\"'quickOrderList.errors.reviewErrors' | cxTranslate\"\n    [text]=\"'quickOrderList.errorProceedingToCart' | cxTranslate\"\n    [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n    class=\"quick-order-errors-message\"\n  >\n    <ul class=\"quick-order-errors\">\n      <li *ngFor=\"let error of errors\" class=\"quick-order-error-item\">\n        <span>\n          {{\n            'quickOrderList.errors.productIsOutOfStock'\n              | cxTranslate\n                : {\n                    name: error.entry.product.name,\n                    code: error.entry.product.code\n                  }\n          }}\n        </span>\n      </li>\n    </ul>\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"warnings$ | async as warnings\">\n  <cx-message\n    *ngIf=\"warnings.length\"\n    (closeMessage)=\"clearWarnings()\"\n    [accordionText]=\"'quickOrderList.warnings.reviewWarnings' | cxTranslate\"\n    [text]=\"'quickOrderList.warningProceedingToCart' | cxTranslate\"\n    [type]=\"globalMessageType.MSG_TYPE_WARNING\"\n    class=\"quick-order-warnings-message\"\n  >\n    <ul class=\"quick-order-warnings\">\n      <li *ngFor=\"let warning of warnings\" class=\"quick-order-warning-item\">\n        <span>\n          {{\n            'quickOrderList.warnings.productWasReduced'\n              | cxTranslate\n                : {\n                    name: warning.entry.product.name,\n                    code: warning.entry.product.code,\n                    quantityAdded: warning.quantityAdded\n                  }\n          }}\n        </span>\n      </li>\n    </ul>\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"successes$ | async as successes\">\n  <cx-message\n    *ngIf=\"successes.length\"\n    (closeMessage)=\"clearSuccesses()\"\n    [text]=\"'quickOrderList.successfullyAddedToCart' | cxTranslate\"\n    [type]=\"globalMessageType.MSG_TYPE_CONFIRMATION\"\n    class=\"quick-order-successes-message\"\n  >\n    <ul class=\"quick-order-successes\">\n      <li *ngFor=\"let entry of successes\" class=\"quick-order-success-item\">\n        <span>{{\n          'quickOrderList.successes.productAddedToCart'\n            | cxTranslate\n              : {\n                  name: entry.product.name,\n                  code: entry.product.code\n                }\n        }}</span>\n      </li>\n    </ul>\n  </cx-message>\n</ng-container>\n\n<ng-container *ngIf=\"quickOrderListLimit$ | async as quickOrderListLimit\">\n  <ng-container *ngIf=\"entries$ | async as entries\">\n    <div class=\"quick-order-header\">\n      <h3>{{ 'quickOrderList.header' | cxTranslate }}</h3>\n      <p>\n        {{\n          'quickOrderList.subHeader'\n            | cxTranslate: { limit: quickOrderListLimit }\n        }}\n      </p>\n    </div>\n\n    <div class=\"quick-order-form-body\">\n      <cx-quick-order-form #quickOrderForm> </cx-quick-order-form>\n    </div>\n\n    <div class=\"quick-order-table-body\">\n      <cx-quick-order-table\n        [entries]=\"entries\"\n        [loading]=\"!(isCartStable$ | async)\"\n      ></cx-quick-order-table>\n    </div>\n\n    <div class=\"quick-order-footer row\">\n      <div class=\"col-xs-12 col-md-5 col-lg-4\">\n        <button\n          *ngIf=\"entries.length\"\n          (click)=\"clear()\"\n          [attr.aria-label]=\"'quickOrderList.emptyList' | cxTranslate\"\n          [disabled]=\"!(isCartStable$ | async)\"\n          class=\"btn btn-block btn-action clear-button\"\n          type=\"button\"\n        >\n          {{ 'quickOrderList.emptyList' | cxTranslate }}\n        </button>\n      </div>\n\n      <div class=\"col-xs-12 col-md-5 col-lg-4\">\n        <cx-progress-button\n          (clikEvent)=\"addToCart(entries)\"\n          [ariaLabel]=\"'quickOrderList.addToCart' | cxTranslate\"\n          [class]=\"'btn-block add-button'\"\n          [loading]=\"!(isCartStable$ | async)\"\n        >\n          {{ 'quickOrderList.addToCart' | cxTranslate }}\n        </cx-progress-button>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport {\n  CmsConfig,\n  I18nModule,\n  provideDefaultConfig,\n  UrlModule,\n} from '@spartacus/core';\nimport {\n  FormErrorsModule,\n  IconModule,\n  ItemCounterModule,\n  MediaModule,\n  MessageComponentModule,\n  ProgressButtonModule,\n} from '@spartacus/storefront';\nimport { QuickOrderComponent } from './quick-order.component';\nimport { QuickOrderFormComponent } from './form/quick-order-form.component';\nimport { QuickOrderItemComponent } from './table/item/quick-order-item.component';\nimport { QuickOrderTableComponent } from './table/quick-order-table.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterModule,\n    FormErrorsModule,\n    I18nModule,\n    IconModule,\n    ItemCounterModule,\n    MediaModule,\n    UrlModule,\n    ProgressButtonModule,\n    MessageComponentModule,\n  ],\n  providers: [\n    provideDefaultConfig(<CmsConfig>{\n      cmsComponents: {\n        QuickOrderComponent: {\n          component: QuickOrderComponent,\n          data: {\n            quickOrderListLimit: 10,\n          },\n        },\n      },\n    }),\n  ],\n  declarations: [\n    QuickOrderComponent,\n    QuickOrderFormComponent,\n    QuickOrderItemComponent,\n    QuickOrderTableComponent,\n  ],\n  exports: [\n    QuickOrderComponent,\n    QuickOrderFormComponent,\n    QuickOrderItemComponent,\n    QuickOrderTableComponent,\n  ],\n})\nexport class QuickOrderListModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CartQuickOrderFormModule } from './cart-quick-order-form/cart-quick-order-form.module';\nimport { QuickOrderListModule } from './quick-order/quick-order-list.module';\n\n@NgModule({\n  imports: [RouterModule, QuickOrderListModule, CartQuickOrderFormModule],\n})\nexport class QuickOrderComponentsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["map","Subscription","Validators","CartAddEntrySuccessEvent","first","GlobalMessageType","CartAddEntryFailEvent","Component","ChangeDetectionStrategy","CommonModule","ReactiveFormsModule","I18nModule","FormErrorsModule","provideDefaultConfig","NgModule","ICON_TYPE","take","FormGroup","FormControl","distinctUntilChanged","debounceTime","filter","switchMap","Input","tap","combineLatest","BehaviorSubject","ViewChild","RouterModule","IconModule","ItemCounterModule","MediaModule","UrlModule","ProgressButtonModule","MessageComponentModule"],"mappings":"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"}