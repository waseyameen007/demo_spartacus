{"version":3,"file":"spartacus-user-account-occ.umd.js","sources":["../../../feature-libs/user/account/occ/adapters/config/default-occ-user-account-endpoint.config.ts","../../../feature-libs/user/account/occ/adapters/occ-user-account.adapter.ts","../../../feature-libs/user/account/occ/user-account-occ.module.ts","../../../feature-libs/user/account/occ/spartacus-user-account-occ.ts"],"sourcesContent":["import { OccConfig } from '@spartacus/core';\n\nexport const defaultOccUserAccountConfig: OccConfig = {\n  backend: {\n    occ: { endpoints: { user: 'users/${userId}' } },\n  },\n};\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {\n  ConverterService,\n  normalizeHttpError,\n  Occ,\n  OccEndpointsService,\n} from '@spartacus/core';\nimport {\n  USER_ACCOUNT_NORMALIZER,\n  UserAccountAdapter,\n} from '@spartacus/user/account/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccUserAccountAdapter implements UserAccountAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  load(userId: string): Observable<User> {\n    const url = this.occEndpoints.buildUrl('user', { urlParams: { userId } });\n    return this.http.get<Occ.User>(url).pipe(\n      catchError((error) => throwError(normalizeHttpError(error))),\n      this.converter.pipeable(USER_ACCOUNT_NORMALIZER)\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { UserAccountAdapter } from '@spartacus/user/account/core';\nimport { defaultOccUserAccountConfig } from './adapters/config/default-occ-user-account-endpoint.config';\nimport { OccUserAccountAdapter } from './adapters/occ-user-account.adapter';\n\n@NgModule({\n  providers: [\n    provideDefaultConfig(defaultOccUserAccountConfig),\n    { provide: UserAccountAdapter, useClass: OccUserAccountAdapter },\n  ],\n})\nexport class UserAccountOccModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["catchError","throwError","normalizeHttpError","USER_ACCOUNT_NORMALIZER","Injectable","provideDefaultConfig","UserAccountAdapter","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAEa,2BAA2B,GAAc;QACpD,OAAO,EAAE;YACP,GAAG,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,EAAE;SAChD;;;;QCaD,+BACY,IAAgB,EAChB,YAAiC,EACjC,SAA2B;YAF3B,SAAI,GAAJ,IAAI,CAAY;YAChB,iBAAY,GAAZ,YAAY,CAAqB;YACjC,cAAS,GAAT,SAAS,CAAkB;SACnC;QAEJ,oCAAI,GAAJ,UAAK,MAAc;YACjB,IAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,MAAM,QAAA,EAAE,EAAE,CAAC,CAAC;YAC1E,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,GAAG,CAAC,CAAC,IAAI,CACtCA,oBAAU,CAAC,UAAC,KAAK,IAAK,OAAAC,eAAU,CAACC,qBAAkB,CAAC,KAAK,CAAC,CAAC,GAAA,CAAC,EAC5D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAACC,4BAAuB,CAAC,CACjD,CAAC;SACH;;;4IAbU,qBAAqB;gJAArB,qBAAqB;qHAArB,qBAAqB;sBADjCC,aAAU;;;;QCJX;;;;2IAAa,oBAAoB;4IAApB,oBAAoB;4IAApB,oBAAoB,aALpB;YACTC,uBAAoB,CAAC,2BAA2B,CAAC;YACjD,EAAE,OAAO,EAAEC,uBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;SACjE;qHAEU,oBAAoB;sBANhCC,WAAQ;uBAAC;wBACR,SAAS,EAAE;4BACTF,uBAAoB,CAAC,2BAA2B,CAAC;4BACjD,EAAE,OAAO,EAAEC,uBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;yBACjE;qBACF;;;ICXD;;;;;;;;;;;;;;"}