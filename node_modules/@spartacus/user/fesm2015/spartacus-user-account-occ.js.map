{"version":3,"file":"spartacus-user-account-occ.js","sources":["../../../feature-libs/user/account/occ/adapters/config/default-occ-user-account-endpoint.config.ts","../../../feature-libs/user/account/occ/adapters/occ-user-account.adapter.ts","../../../feature-libs/user/account/occ/user-account-occ.module.ts","../../../feature-libs/user/account/occ/spartacus-user-account-occ.ts"],"sourcesContent":["import { OccConfig } from '@spartacus/core';\n\nexport const defaultOccUserAccountConfig: OccConfig = {\n  backend: {\n    occ: { endpoints: { user: 'users/${userId}' } },\n  },\n};\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport {\n  ConverterService,\n  normalizeHttpError,\n  Occ,\n  OccEndpointsService,\n} from '@spartacus/core';\nimport {\n  USER_ACCOUNT_NORMALIZER,\n  UserAccountAdapter,\n} from '@spartacus/user/account/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccUserAccountAdapter implements UserAccountAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  load(userId: string): Observable<User> {\n    const url = this.occEndpoints.buildUrl('user', { urlParams: { userId } });\n    return this.http.get<Occ.User>(url).pipe(\n      catchError((error) => throwError(normalizeHttpError(error))),\n      this.converter.pipeable(USER_ACCOUNT_NORMALIZER)\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { UserAccountAdapter } from '@spartacus/user/account/core';\nimport { defaultOccUserAccountConfig } from './adapters/config/default-occ-user-account-endpoint.config';\nimport { OccUserAccountAdapter } from './adapters/occ-user-account.adapter';\n\n@NgModule({\n  providers: [\n    provideDefaultConfig(defaultOccUserAccountConfig),\n    { provide: UserAccountAdapter, useClass: OccUserAccountAdapter },\n  ],\n})\nexport class UserAccountOccModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;;;;MAEa,2BAA2B,GAAc;IACpD,OAAO,EAAE;QACP,GAAG,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,EAAE;KAChD;;;MCYU,qBAAqB;IAChC,YACY,IAAgB,EAChB,YAAiC,EACjC,SAA2B;QAF3B,SAAI,GAAJ,IAAI,CAAY;QAChB,iBAAY,GAAZ,YAAY,CAAqB;QACjC,cAAS,GAAT,SAAS,CAAkB;KACnC;IAEJ,IAAI,CAAC,MAAc;QACjB,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;QAC1E,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,GAAG,CAAC,CAAC,IAAI,CACtC,UAAU,CAAC,CAAC,KAAK,KAAK,UAAU,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,EAC5D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CACjD,CAAC;KACH;;kHAbU,qBAAqB;sHAArB,qBAAqB;2FAArB,qBAAqB;kBADjC,UAAU;;;MCJE,oBAAoB;;iHAApB,oBAAoB;kHAApB,oBAAoB;kHAApB,oBAAoB,aALpB;QACT,oBAAoB,CAAC,2BAA2B,CAAC;QACjD,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;KACjE;2FAEU,oBAAoB;kBANhC,QAAQ;mBAAC;oBACR,SAAS,EAAE;wBACT,oBAAoB,CAAC,2BAA2B,CAAC;wBACjD,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;qBACjE;iBACF;;;ACXD;;;;;;"}