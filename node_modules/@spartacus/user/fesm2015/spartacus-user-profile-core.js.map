{"version":3,"file":"spartacus-user-profile-core.js","sources":["../../../feature-libs/user/profile/core/connectors/converters.ts","../../../feature-libs/user/profile/core/connectors/user-profile.adapter.ts","../../../feature-libs/user/profile/core/connectors/user-profile.connector.ts","../../../feature-libs/user/profile/core/facade/user-email.service.ts","../../../feature-libs/user/profile/core/facade/user-password.service.ts","../../../feature-libs/user/profile/core/facade/user-profile.service.ts","../../../feature-libs/user/profile/core/facade/user-register.service.ts","../../../feature-libs/user/profile/core/facade/facade-providers.ts","../../../feature-libs/user/profile/core/user-profile-core.module.ts","../../../feature-libs/user/profile/core/spartacus-user-profile-core.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { Converter } from '@spartacus/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Title, UserSignUp } from '@spartacus/user/profile/root';\n\nexport const USER_PROFILE_NORMALIZER = new InjectionToken<Converter<User, any>>(\n  'UserProfileNormalizer'\n);\n\nexport const USER_PROFILE_SERIALIZER = new InjectionToken<Converter<User, any>>(\n  'UserProfileSerializer'\n);\n\nexport const USER_SERIALIZER = new InjectionToken<Converter<User, any>>(\n  'UserSerializer'\n);\n\nexport const USER_SIGN_UP_SERIALIZER = new InjectionToken<\n  Converter<UserSignUp, any>\n>('UserSignUpSerializer');\n\nexport const TITLE_NORMALIZER = new InjectionToken<Converter<any, Title>>(\n  'TitleNormalizer'\n);\n","import { User } from '@spartacus/user/account/root';\nimport { Observable } from 'rxjs';\nimport { Title, UserSignUp } from '@spartacus/user/profile/root';\n\nexport abstract class UserProfileAdapter {\n  abstract update(username: string, user: User): Observable<unknown>;\n\n  abstract register(user: UserSignUp): Observable<User>;\n\n  abstract registerGuest(guid: string, password: string): Observable<User>;\n\n  abstract requestForgotPasswordEmail(\n    userEmailAddress: string\n  ): Observable<unknown>;\n\n  abstract resetPassword(\n    token: string,\n    newPassword: string\n  ): Observable<unknown>;\n\n  abstract updateEmail(\n    userId: string,\n    currentPassword: string,\n    newUserId: string\n  ): Observable<unknown>;\n\n  abstract updatePassword(\n    userId: string,\n    oldPassword: string,\n    newPassword: string\n  ): Observable<unknown>;\n\n  abstract close(userId: string): Observable<unknown>;\n\n  abstract loadTitles(): Observable<Title[]>;\n}\n","import { Injectable } from '@angular/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable } from 'rxjs';\nimport { Title, UserSignUp } from '@spartacus/user/profile/root';\nimport { UserProfileAdapter } from './user-profile.adapter';\n\n@Injectable()\nexport class UserProfileConnector {\n  constructor(protected userProfileAdapter: UserProfileAdapter) {}\n\n  update(username: string, user: User): Observable<unknown> {\n    return this.userProfileAdapter.update(username, user);\n  }\n\n  register(user: UserSignUp): Observable<User> {\n    return this.userProfileAdapter.register(user);\n  }\n\n  registerGuest(guid: string, password: string): Observable<User> {\n    return this.userProfileAdapter.registerGuest(guid, password);\n  }\n\n  requestForgotPasswordEmail(userEmailAddress: string): Observable<unknown> {\n    return this.userProfileAdapter.requestForgotPasswordEmail(userEmailAddress);\n  }\n\n  resetPassword(token: string, newPassword: string): Observable<unknown> {\n    return this.userProfileAdapter.resetPassword(token, newPassword);\n  }\n\n  updateEmail(\n    userId: string,\n    currentPassword: string,\n    newUserId: string\n  ): Observable<unknown> {\n    return this.userProfileAdapter.updateEmail(\n      userId,\n      currentPassword,\n      newUserId\n    );\n  }\n\n  updatePassword(\n    userId: string,\n    oldPassword: string,\n    newPassword: string\n  ): Observable<unknown> {\n    return this.userProfileAdapter.updatePassword(\n      userId,\n      oldPassword,\n      newPassword\n    );\n  }\n\n  remove(userId: string): Observable<unknown> {\n    return this.userProfileAdapter.close(userId);\n  }\n\n  getTitles(): Observable<Title[]> {\n    return this.userProfileAdapter.loadTitles();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  Command,\n  CommandService,\n  CommandStrategy,\n  UserIdService,\n} from '@spartacus/core';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { UserEmailFacade } from '@spartacus/user/profile/root';\nimport { UserProfileConnector } from '../connectors/user-profile.connector';\n\n@Injectable()\nexport class UserEmailService implements UserEmailFacade {\n  constructor(\n    protected userIdService: UserIdService,\n    protected userProfileConnector: UserProfileConnector,\n    protected command: CommandService\n  ) {}\n\n  protected updateCommand: Command<{\n    password: string;\n    newUid: string;\n  }> = this.command.create(\n    (payload) =>\n      this.userIdService\n        .takeUserId(true)\n        .pipe(\n          switchMap((uid) =>\n            this.userProfileConnector.updateEmail(\n              uid,\n              payload.password,\n              payload.newUid\n            )\n          )\n        ),\n    {\n      strategy: CommandStrategy.Queue,\n    }\n  );\n\n  /**\n   * Updates the user's email.\n   *\n   * @param password to users password to confirm the users\n   * @param newUid the new proposed email address.\n   */\n  update(password: string, newUid: string): Observable<unknown> {\n    return this.updateCommand.execute({ password, newUid });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Command, CommandService, UserIdService } from '@spartacus/core';\nimport { Observable } from 'rxjs';\nimport { switchMap, take } from 'rxjs/operators';\nimport { UserPasswordFacade } from '@spartacus/user/profile/root';\nimport { UserProfileConnector } from '../connectors/user-profile.connector';\n\n@Injectable()\nexport class UserPasswordService implements UserPasswordFacade {\n  protected updateCommand: Command<{\n    oldPassword: string;\n    newPassword: string;\n  }> = this.command.create((payload) =>\n    this.userIdService.takeUserId(true).pipe(\n      take(1),\n      switchMap((uid) =>\n        this.userProfileConnector.updatePassword(\n          uid,\n          payload.oldPassword,\n          payload.newPassword\n        )\n      )\n    )\n  );\n\n  protected resetCommand: Command<{\n    token: string;\n    password: string;\n  }> = this.command.create((payload) =>\n    this.userProfileConnector.resetPassword(payload.token, payload.password)\n  );\n\n  protected requestForgotPasswordEmailCommand: Command<{\n    email: string;\n  }> = this.command.create((payload) =>\n    this.userProfileConnector.requestForgotPasswordEmail(payload.email)\n  );\n\n  constructor(\n    protected userProfileConnector: UserProfileConnector,\n    protected userIdService: UserIdService,\n    protected command: CommandService\n  ) {}\n\n  /**\n   * Updates the password for the user\n   *\n   * The method returns an observable with `LoaderState` information, including the\n   * actual user data.\n   *\n   * @param oldPassword the current password that will be changed\n   * @param newPassword the new password\n   */\n  update(oldPassword: string, newPassword: string): Observable<unknown> {\n    return this.updateCommand.execute({ oldPassword, newPassword });\n  }\n\n  /**\n   * Reset new password. Part of the forgot password flow.\n   *\n   * @param token\n   * @param password\n   */\n  reset(token: string, password: string): Observable<unknown> {\n    return this.resetCommand.execute({ token, password });\n  }\n\n  /*\n   * Request an email to reset a forgotten password.\n   */\n  requestForgotPasswordEmail(email: string): Observable<unknown> {\n    return this.requestForgotPasswordEmailCommand.execute({ email });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  AuthService,\n  Command,\n  CommandService,\n  CommandStrategy,\n  EventService,\n  LanguageSetEvent,\n  Query,\n  QueryService,\n  UserIdService,\n} from '@spartacus/core';\nimport {\n  User,\n  UserAccountChangedEvent,\n  UserAccountFacade,\n} from '@spartacus/user/account/root';\nimport { Observable } from 'rxjs';\nimport { Title, UserProfileFacade } from '@spartacus/user/profile/root';\nimport { UserProfileConnector } from '../connectors/user-profile.connector';\nimport { map, switchMap, tap } from 'rxjs/operators';\n\n@Injectable()\nexport class UserProfileService implements UserProfileFacade {\n  protected updateCommand: Command<{ details: User }> = this.command.create(\n    (payload) =>\n      this.userIdService.takeUserId(true).pipe(\n        switchMap((uid) =>\n          this.userProfileConnector.update(uid, payload.details).pipe(\n            tap(() => {\n              this.eventService.dispatch(\n                { user: payload.details },\n                UserAccountChangedEvent\n              );\n            })\n          )\n        )\n      ),\n    {\n      strategy: CommandStrategy.Queue,\n    }\n  );\n\n  protected closeCommand: Command = this.command.create(() =>\n    this.userIdService\n      .takeUserId(true)\n      .pipe(\n        switchMap((uid) =>\n          this.userProfileConnector\n            .remove(uid)\n            .pipe(tap(() => this.authService.logout()))\n        )\n      )\n  );\n\n  protected titleQuery: Query<Title[]> = this.query.create(\n    () => this.userProfileConnector.getTitles(),\n    {\n      reloadOn: [LanguageSetEvent],\n    }\n  );\n\n  constructor(\n    protected userAccountService: UserAccountFacade,\n    protected authService: AuthService,\n    protected userProfileConnector: UserProfileConnector,\n    protected eventService: EventService,\n    protected userIdService: UserIdService,\n    protected query: QueryService,\n    protected command: CommandService\n  ) {}\n\n  get(): Observable<User | undefined> {\n    return this.userAccountService.get();\n  }\n\n  /**\n   * Updates the user's details.\n   *\n   * @param details User details to be updated.\n   */\n  update(details: User): Observable<unknown> {\n    return this.updateCommand.execute({ details });\n  }\n\n  /**\n   * Closes the user account.\n   */\n  close(): Observable<unknown> {\n    return this.closeCommand.execute(undefined);\n  }\n\n  /**\n   * Returns titles that can be used for the user profiles.\n   */\n  getTitles(): Observable<Title[]> {\n    return this.titleQuery.get().pipe(map((titles) => titles ?? []));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  AuthService,\n  Command,\n  CommandService,\n  UserActions,\n} from '@spartacus/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable } from 'rxjs';\nimport {\n  Title,\n  UserRegisterFacade,\n  UserSignUp,\n} from '@spartacus/user/profile/root';\nimport { UserProfileConnector } from '../connectors/user-profile.connector';\nimport { tap } from 'rxjs/operators';\nimport { UserProfileService } from './user-profile.service';\nimport { Store } from '@ngrx/store';\n\n@Injectable()\nexport class UserRegisterService implements UserRegisterFacade {\n  protected registerCommand: Command<{ user: UserSignUp }, User> =\n    this.command.create(({ user }) =>\n      this.userConnector.register(user).pipe(\n        tap(() => {\n          // this is a compatibility mechanism only, to make anonymous consents\n          // management work properly in transitional period (when we move logic\n          // to separate libraries)\n          this.store.dispatch(new UserActions.RegisterUserSuccess());\n        })\n      )\n    );\n\n  protected registerGuestCommand: Command<\n    {\n      guid: string;\n      password: string;\n    },\n    User\n  > = this.command.create((payload) =>\n    this.userConnector.registerGuest(payload.guid, payload.password).pipe(\n      tap((user) => {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        this.authService.loginWithCredentials(user.uid!, payload.password);\n      })\n    )\n  );\n\n  constructor(\n    protected userProfile: UserProfileService,\n    protected userConnector: UserProfileConnector,\n    protected authService: AuthService,\n    protected command: CommandService,\n    protected store: Store\n  ) {}\n\n  /**\n   * Register a new user.\n   *\n   * @param submitFormData as UserRegisterFormData\n   */\n  register(user: UserSignUp): Observable<User> {\n    return this.registerCommand.execute({ user });\n  }\n\n  /**\n   * Register a new user from guest.\n   *\n   * @param guid\n   * @param password\n   */\n  registerGuest(guid: string, password: string): Observable<User> {\n    return this.registerGuestCommand.execute({ guid, password });\n  }\n\n  /**\n   * Returns titles that can be used for the user profiles.\n   */\n  getTitles(): Observable<Title[]> {\n    return this.userProfile.getTitles();\n  }\n}\n","import { UserEmailService } from './user-email.service';\nimport { UserPasswordService } from './user-password.service';\nimport { UserProfileService } from './user-profile.service';\nimport { UserRegisterService } from './user-register.service';\nimport {\n  UserEmailFacade,\n  UserPasswordFacade,\n  UserProfileFacade,\n  UserRegisterFacade,\n} from '@spartacus/user/profile/root';\nimport { Provider } from '@angular/core';\n\nexport const facadeProviders: Provider[] = [\n  UserEmailService,\n  UserPasswordService,\n  UserProfileService,\n  UserRegisterService,\n  {\n    provide: UserEmailFacade,\n    useExisting: UserEmailService,\n  },\n  {\n    provide: UserPasswordFacade,\n    useExisting: UserPasswordService,\n  },\n  {\n    provide: UserProfileFacade,\n    useExisting: UserProfileService,\n  },\n  {\n    provide: UserRegisterFacade,\n    useExisting: UserRegisterService,\n  },\n];\n","import { NgModule } from '@angular/core';\nimport { UserProfileConnector } from './connectors/user-profile.connector';\nimport { facadeProviders } from './facade/facade-providers';\n\n@NgModule({\n  providers: [UserProfileConnector, ...facadeProviders],\n})\nexport class UserProfileCoreModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}