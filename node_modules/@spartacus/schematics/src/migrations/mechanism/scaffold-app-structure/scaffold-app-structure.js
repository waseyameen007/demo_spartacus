"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.scaffoldAppStructure = void 0;
const schematics_1 = require("@angular-devkit/schematics");
const lib_utils_1 = require("../../../shared/utils/lib-utils");
const workspace_utils_1 = require("../../../shared/utils/workspace-utils");
function scaffoldAppStructure() {
    return (tree, context) => {
        const project = workspace_utils_1.getDefaultProjectNameFromWorkspace(tree);
        const spartacusFeatureModuleExists = lib_utils_1.checkAppStructure(tree, project);
        if (!spartacusFeatureModuleExists) {
            context.logger.info('Scaffolding the new app structure...');
            context.logger.warn('Please migrate manually the rest of your feature modules to the new app structure: https://sap.github.io/spartacus-docs/reference-app-structure/');
        }
        return spartacusFeatureModuleExists
            ? schematics_1.noop()
            : workspace_utils_1.scaffoldStructure({ project });
    };
}
exports.scaffoldAppStructure = scaffoldAppStructure;
//# sourceMappingURL=scaffold-app-structure.js.map