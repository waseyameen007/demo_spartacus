import { OrderActions } from '../actions/index';
export const initialState = {
    replenishmentOrders: [],
    pagination: {},
    sorts: [],
};
export function reducer(state = initialState, action) {
    var _a;
    switch (action.type) {
        case OrderActions.LOAD_USER_REPLENISHMENT_ORDERS_SUCCESS: {
            return action.payload ? action.payload : initialState;
        }
        case OrderActions.CANCEL_REPLENISHMENT_ORDER_SUCCESS: {
            const cancelledReplenishmentOrder = action.payload;
            const userReplenishmentOrders = [...((_a = state.replenishmentOrders) !== null && _a !== void 0 ? _a : [])];
            const index = userReplenishmentOrders.findIndex((replenishmentOrder) => replenishmentOrder.replenishmentOrderCode ===
                cancelledReplenishmentOrder.replenishmentOrderCode);
            if (index === -1) {
                return initialState;
            }
            else {
                userReplenishmentOrders[index] = Object.assign({}, cancelledReplenishmentOrder);
            }
            return Object.assign(Object.assign({}, state), { replenishmentOrders: userReplenishmentOrders });
        }
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwbGVuaXNobWVudC1vcmRlcnMucmVkdWNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9vcmRlci9jb3JlL3N0b3JlL3JlZHVjZXJzL3JlcGxlbmlzaG1lbnQtb3JkZXJzLnJlZHVjZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRWhELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBMkI7SUFDbEQsbUJBQW1CLEVBQUUsRUFBRTtJQUN2QixVQUFVLEVBQUUsRUFBRTtJQUNkLEtBQUssRUFBRSxFQUFFO0NBQ1YsQ0FBQztBQUVGLE1BQU0sVUFBVSxPQUFPLENBQ3JCLEtBQUssR0FBRyxZQUFZLEVBQ3BCLE1BRWdEOztJQUVoRCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDbkIsS0FBSyxZQUFZLENBQUMsc0NBQXNDLENBQUMsQ0FBQztZQUN4RCxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztTQUN2RDtRQUVELEtBQUssWUFBWSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7WUFDcEQsTUFBTSwyQkFBMkIsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQ25ELE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBQSxLQUFLLENBQUMsbUJBQW1CLG1DQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFdkUsTUFBTSxLQUFLLEdBQUcsdUJBQXVCLENBQUMsU0FBUyxDQUM3QyxDQUFDLGtCQUFzQyxFQUFFLEVBQUUsQ0FDekMsa0JBQWtCLENBQUMsc0JBQXNCO2dCQUN6QywyQkFBMkIsQ0FBQyxzQkFBc0IsQ0FDckQsQ0FBQztZQUVGLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUNoQixPQUFPLFlBQVksQ0FBQzthQUNyQjtpQkFBTTtnQkFDTCx1QkFBdUIsQ0FBQyxLQUFLLENBQUMscUJBQ3pCLDJCQUEyQixDQUMvQixDQUFDO2FBQ0g7WUFFRCx1Q0FBWSxLQUFLLEtBQUUsbUJBQW1CLEVBQUUsdUJBQXVCLElBQUc7U0FDbkU7S0FDRjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcGxlbmlzaG1lbnRPcmRlciwgUmVwbGVuaXNobWVudE9yZGVyTGlzdCB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBPcmRlckFjdGlvbnMgfSBmcm9tICcuLi9hY3Rpb25zL2luZGV4JztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZTogUmVwbGVuaXNobWVudE9yZGVyTGlzdCA9IHtcbiAgcmVwbGVuaXNobWVudE9yZGVyczogW10sXG4gIHBhZ2luYXRpb246IHt9LFxuICBzb3J0czogW10sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlcihcbiAgc3RhdGUgPSBpbml0aWFsU3RhdGUsXG4gIGFjdGlvbjpcbiAgICB8IE9yZGVyQWN0aW9ucy5Vc2VyUmVwbGVuaXNobWVudE9yZGVyc0FjdGlvblxuICAgIHwgT3JkZXJBY3Rpb25zLlJlcGxlbmlzaG1lbnRPcmRlckRldGFpbHNBY3Rpb25cbik6IFJlcGxlbmlzaG1lbnRPcmRlckxpc3Qge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBPcmRlckFjdGlvbnMuTE9BRF9VU0VSX1JFUExFTklTSE1FTlRfT1JERVJTX1NVQ0NFU1M6IHtcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZCA/IGFjdGlvbi5wYXlsb2FkIDogaW5pdGlhbFN0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgT3JkZXJBY3Rpb25zLkNBTkNFTF9SRVBMRU5JU0hNRU5UX09SREVSX1NVQ0NFU1M6IHtcbiAgICAgIGNvbnN0IGNhbmNlbGxlZFJlcGxlbmlzaG1lbnRPcmRlciA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgY29uc3QgdXNlclJlcGxlbmlzaG1lbnRPcmRlcnMgPSBbLi4uKHN0YXRlLnJlcGxlbmlzaG1lbnRPcmRlcnMgPz8gW10pXTtcblxuICAgICAgY29uc3QgaW5kZXggPSB1c2VyUmVwbGVuaXNobWVudE9yZGVycy5maW5kSW5kZXgoXG4gICAgICAgIChyZXBsZW5pc2htZW50T3JkZXI6IFJlcGxlbmlzaG1lbnRPcmRlcikgPT5cbiAgICAgICAgICByZXBsZW5pc2htZW50T3JkZXIucmVwbGVuaXNobWVudE9yZGVyQ29kZSA9PT1cbiAgICAgICAgICBjYW5jZWxsZWRSZXBsZW5pc2htZW50T3JkZXIucmVwbGVuaXNobWVudE9yZGVyQ29kZVxuICAgICAgKTtcblxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlclJlcGxlbmlzaG1lbnRPcmRlcnNbaW5kZXhdID0ge1xuICAgICAgICAgIC4uLmNhbmNlbGxlZFJlcGxlbmlzaG1lbnRPcmRlcixcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHJlcGxlbmlzaG1lbnRPcmRlcnM6IHVzZXJSZXBsZW5pc2htZW50T3JkZXJzIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cbiJdfQ==