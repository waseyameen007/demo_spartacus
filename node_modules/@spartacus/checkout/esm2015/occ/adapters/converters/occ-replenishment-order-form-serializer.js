import { Injectable } from '@angular/core';
import { TimeUtils, } from '@spartacus/core';
import * as i0 from "@angular/core";
export class OccReplenishmentOrderFormSerializer {
    convert(source, target) {
        if (target === undefined) {
            target = Object.assign({}, source);
        }
        if (source.replenishmentStartDate) {
            target.replenishmentStartDate = this.convertDate(source.replenishmentStartDate);
        }
        return target;
    }
    /**
     * Adds the current timestamp (including timezone offset) to a date string in the format YYYY-mm-dd
     * @Example
     * Converts 2021-10-15 to 2021-10-15T15:38:05-05:00
     */
    convertDate(date) {
        const localTime = new Date().toLocaleTimeString([], {
            hour: '2-digit',
            minute: '2-digit',
            hourCycle: 'h23',
        });
        return `${date}T${localTime}:00${TimeUtils.getLocalTimezoneOffset()}`;
    }
}
OccReplenishmentOrderFormSerializer.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: OccReplenishmentOrderFormSerializer, deps: [], target: i0.ɵɵFactoryTarget.Injectable });
OccReplenishmentOrderFormSerializer.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: OccReplenishmentOrderFormSerializer });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: OccReplenishmentOrderFormSerializer, decorators: [{
            type: Injectable
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2NjLXJlcGxlbmlzaG1lbnQtb3JkZXItZm9ybS1zZXJpYWxpemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NoZWNrb3V0L29jYy9hZGFwdGVycy9jb252ZXJ0ZXJzL29jYy1yZXBsZW5pc2htZW50LW9yZGVyLWZvcm0tc2VyaWFsaXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFJTCxTQUFTLEdBQ1YsTUFBTSxpQkFBaUIsQ0FBQzs7QUFHekIsTUFBTSxPQUFPLG1DQUFtQztJQUk5QyxPQUFPLENBQ0wsTUFBcUMsRUFDckMsTUFBa0M7UUFFbEMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3hCLE1BQU0sR0FBRyxrQkFBTSxNQUFjLENBQStCLENBQUM7U0FDOUQ7UUFFRCxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRTtZQUNqQyxNQUFNLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FDOUMsTUFBTSxDQUFDLHNCQUFzQixDQUM5QixDQUFDO1NBQ0g7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNLLFdBQVcsQ0FBQyxJQUFZO1FBQzlCLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBRSxFQUFFO1lBQ2xELElBQUksRUFBRSxTQUFTO1lBQ2YsTUFBTSxFQUFFLFNBQVM7WUFDakIsU0FBUyxFQUFFLEtBQUs7U0FDakIsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxHQUFHLElBQUksSUFBSSxTQUFTLE1BQU0sU0FBUyxDQUFDLHNCQUFzQixFQUFFLEVBQUUsQ0FBQztJQUN4RSxDQUFDOztnSUFqQ1UsbUNBQW1DO29JQUFuQyxtQ0FBbUM7MkZBQW5DLG1DQUFtQztrQkFEL0MsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIENvbnZlcnRlcixcbiAgT2NjLFxuICBTY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtLFxuICBUaW1lVXRpbHMsXG59IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPY2NSZXBsZW5pc2htZW50T3JkZXJGb3JtU2VyaWFsaXplclxuICBpbXBsZW1lbnRzXG4gICAgQ29udmVydGVyPE9jYy5TY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtLCBTY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtPlxue1xuICBjb252ZXJ0KFxuICAgIHNvdXJjZTogT2NjLlNjaGVkdWxlUmVwbGVuaXNobWVudEZvcm0sXG4gICAgdGFyZ2V0PzogU2NoZWR1bGVSZXBsZW5pc2htZW50Rm9ybVxuICApOiBTY2hlZHVsZVJlcGxlbmlzaG1lbnRGb3JtIHtcbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldCA9IHsgLi4uKHNvdXJjZSBhcyBhbnkpIH0gYXMgU2NoZWR1bGVSZXBsZW5pc2htZW50Rm9ybTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlLnJlcGxlbmlzaG1lbnRTdGFydERhdGUpIHtcbiAgICAgIHRhcmdldC5yZXBsZW5pc2htZW50U3RhcnREYXRlID0gdGhpcy5jb252ZXJ0RGF0ZShcbiAgICAgICAgc291cmNlLnJlcGxlbmlzaG1lbnRTdGFydERhdGVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBjdXJyZW50IHRpbWVzdGFtcCAoaW5jbHVkaW5nIHRpbWV6b25lIG9mZnNldCkgdG8gYSBkYXRlIHN0cmluZyBpbiB0aGUgZm9ybWF0IFlZWVktbW0tZGRcbiAgICogQEV4YW1wbGVcbiAgICogQ29udmVydHMgMjAyMS0xMC0xNSB0byAyMDIxLTEwLTE1VDE1OjM4OjA1LTA1OjAwXG4gICAqL1xuICBwcml2YXRlIGNvbnZlcnREYXRlKGRhdGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG9jYWxUaW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtcbiAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgaG91ckN5Y2xlOiAnaDIzJyxcbiAgICB9KTtcbiAgICByZXR1cm4gYCR7ZGF0ZX1UJHtsb2NhbFRpbWV9OjAwJHtUaW1lVXRpbHMuZ2V0TG9jYWxUaW1lem9uZU9mZnNldCgpfWA7XG4gIH1cbn1cbiJdfQ==