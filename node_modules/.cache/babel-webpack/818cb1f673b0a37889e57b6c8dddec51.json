{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 3);\n  }\n  if (rf & 2) {\n    const thumbs_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵproperty(\"items\", thumbs_r3)(\"hideIndicators\", false)(\"template\", _r1);\n  }\n}\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r3.length);\n  }\n}\nfunction ProductImageZoomThumbnailsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-media\", 4);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomThumbnailsComponent_ng_template_2_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.item;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.openImage(item_r6.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.item;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r2.isActive(item_r6.container)));\n    i0.ɵɵproperty(\"container\", item_r6.container);\n  }\n}\nconst _c0 = [\"defaultImage\"];\nconst _c1 = [\"zoomContainer\"];\nconst _c2 = [\"zoomedImage\"];\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const previousProduct_r8 = restoredCtx.ngIf;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.openImage(previousProduct_r8.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r4.iconType.CARET_LEFT);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-media\", 10, 11);\n  }\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12, 13);\n    i0.ɵɵelementStart(2, \"cx-media\", 14, 15);\n    i0.ɵɵlistener(\"mousemove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_mousemove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.pointerMove($event);\n    })(\"touchmove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchmove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.touchMove($event);\n    })(\"touchend\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchend_2_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.clearTouch();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const nextProduct_r20 = restoredCtx.ngIf;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return ctx_r21.openImage(nextProduct_r20.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r7.iconType.CARET_RIGHT);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtemplate(2, ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template, 2, 1, \"cx-media\", 6);\n    i0.ɵɵtemplate(5, ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template, 4, 1, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵtemplate(7, ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r2.getPreviousProduct(thumbs_r3)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isZoomed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isZoomed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 6, ctx_r2.getNextProduct(thumbs_r3)));\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomViewComponent_ng_container_0_div_1_Template, 9, 8, \"div\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.thumbnails$));\n  }\n}\nconst _c3 = [\"expandButton\"];\nfunction ProductImageZoomProductImagesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"cx-media\", 2);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_media_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.triggerZoom(true);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"cx-product-image-zoom-trigger\", 3);\n    i0.ɵɵlistener(\"dialogClose\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_product_image_zoom_trigger_dialogClose_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.triggerZoom(false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const main_r4 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"container\", main_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"expandImage\", ctx_r0.expandImage.value)(\"galleryIndex\", ctx_r0.selectedIndex);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 5);\n  }\n  if (rf & 2) {\n    const thumbs_r8 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(5);\n    i0.ɵɵproperty(\"items\", thumbs_r8)(\"hideIndicators\", false)(\"template\", _r2);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r8 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r8.length);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-media\", 6);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomProductImagesComponent_ng_template_4_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r11 = restoredCtx.item;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.openImage(item_r11.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r11 = ctx.item;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r3.isActive(item_r11.container)));\n    i0.ɵɵproperty(\"container\", item_r11.container);\n  }\n}\nclass ProductImageZoomThumbnailsComponent {\n  constructor() {\n    this.mainMediaContainer = new BehaviorSubject({});\n    this.productImage = new EventEmitter();\n    this.subscription = new Subscription();\n  }\n  ngOnInit() {\n    this.subscription.add(this.activeThumb.subscribe(image => {\n      this.mainMediaContainer.next(image);\n    }));\n  }\n  openImage(image) {\n    var _a;\n    this.mainMediaContainer.next(image);\n    if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n      this.productImage.emit({\n        image,\n        index: image.zoom.galleryIndex\n      });\n    }\n  }\n  isActive(thumbnail) {\n    return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map(container => {\n      var _a, _b;\n      return ((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) && ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) && container.zoom.url === thumbnail.zoom.url;\n    }));\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\nProductImageZoomThumbnailsComponent.ɵfac = function ProductImageZoomThumbnailsComponent_Factory(t) {\n  return new (t || ProductImageZoomThumbnailsComponent)();\n};\nProductImageZoomThumbnailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomThumbnailsComponent,\n  selectors: [[\"cx-product-image-zoom-thumbnails\"]],\n  inputs: {\n    thumbs$: \"thumbs$\",\n    activeThumb: \"activeThumb\"\n  },\n  outputs: {\n    productImage: \"productImage\"\n  },\n  decls: 4,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [\"class\", \"thumbs\", \"itemWidth\", \"70px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"70px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomThumbnailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomThumbnailsComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomThumbnailsComponent_ng_template_2_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.CarouselComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomThumbnailsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-thumbnails',\n      templateUrl: './product-image-zoom-thumbnails.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [];\n  }, {\n    productImage: [{\n      type: Output\n    }],\n    thumbs$: [{\n      type: Input\n    }],\n    activeThumb: [{\n      type: Input\n    }]\n  });\n})();\nclass ProductImageZoomViewComponent {\n  constructor(currentProductService, renderer, cdRef, breakpointService) {\n    this.currentProductService = currentProductService;\n    this.renderer = renderer;\n    this.cdRef = cdRef;\n    this.breakpointService = breakpointService;\n    this.iconType = ICON_TYPE;\n    this.mainMediaContainer = new BehaviorSubject(null);\n    this.defaultImageReady = new BehaviorSubject(false);\n    this.zoomReady = new BehaviorSubject(false);\n    this.subscription = new Subscription();\n    this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n    this.defaultImageReady$ = this.defaultImageReady.asObservable();\n    this.zoomReady$ = this.zoomReady.asObservable();\n    this.activeThumb = new EventEmitter();\n    this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n    this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.isZoomed = false;\n    this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), distinctUntilChanged(), tap(p => {\n      var _a, _b, _c, _d;\n      if (this.galleryIndex) {\n        const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY) ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find(img => {\n          var _a;\n          return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex;\n        }) : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n        this.mainMediaContainer.next(image || null);\n      } else {\n        this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n      }\n    }), shareReplay(1));\n    this.thumbnails$ = this.product$.pipe(map(p => this.createThumbs(p)), shareReplay(1));\n    this.mainImage$ = combineLatest([this.product$, this.mainMediaContainer$]).pipe(map(([, container]) => container));\n  }\n  get defaultImage() {\n    return this._defaultImage;\n  }\n  set defaultImage(el) {\n    if (el) {\n      this._defaultImage = el;\n      this.defaultImageReady.next(true);\n    }\n  }\n  get zoomImage() {\n    return this._zoomImage;\n  }\n  set zoomImage(el) {\n    if (el) {\n      this._zoomImage = el;\n      this.zoomReady.next(true);\n    }\n  }\n  ngOnInit() {\n    this.subscription.add(this.defaultImageClickHandler$.subscribe());\n    this.subscription.add(this.zoomImageClickHandler$.subscribe());\n  }\n  openImage(item) {\n    this.mainMediaContainer.next(item);\n    this.activeThumb.emit(item);\n  }\n  /** find the index of the main media in the list of media */\n  getActive() {\n    var _a, _b, _c, _d;\n    if (Array.isArray(this.mainMediaContainer.value)) {\n      return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n    }\n    return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n  }\n  getPreviousProduct(thumbs) {\n    const active = this.getActive();\n    if (active === 0) {\n      return thumbs[active];\n    }\n    return thumbs[active - 1];\n  }\n  getNextProduct(thumbs) {\n    const active = this.getActive();\n    if (active === thumbs.length - 1) {\n      return thumbs[active];\n    }\n    return thumbs[active + 1];\n  }\n  /**\n   * Zoom in or out of the image\n   */\n  zoom() {\n    this.isZoomed = !this.isZoomed;\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.cdRef.markForCheck();\n  }\n  /**\n   * Touch screen image pan\n   *\n   * @param event\n   */\n  touchMove(event) {\n    var _a, _b, _c, _d;\n    const touch = event.touches[0] || event.changedTouches[0];\n    const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n    const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n    if (!this.startCoords) this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n    this.left += touch.clientX - this.startCoords.x;\n    this.top += touch.clientY - this.startCoords.y;\n    this.moveImage(this.left, this.top, boundingRect, imageElement);\n    this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n  }\n  /**\n   * Clears touch location\n   */\n  clearTouch() {\n    this.startCoords = null;\n  }\n  /**\n   * Pointer image pan\n   *\n   * @param event\n   */\n  pointerMove(event) {\n    const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n    const imageElement = this.zoomedImage.nativeElement.firstChild;\n    const {\n      positionX,\n      positionY\n    } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n    this.moveImage(positionX, positionY, boundingRect, imageElement);\n  }\n  changeImage(event) {\n    this.mainMediaContainer.next(event.image);\n  }\n  /**\n   * Applies the offset from touchMove or pointerMove to the image element\n   *\n   * @param positionX\n   * @param positionY\n   * @param boundingRect\n   * @param imageElement\n   */\n  moveImage(positionX, positionY, boundingRect, imageElement) {\n    const {\n      x,\n      y\n    } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n    if (imageElement) {\n      this.renderer.setStyle(imageElement, 'left', x + 'px');\n      this.renderer.setStyle(imageElement, 'top', y + 'px');\n    }\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n  /**\n   * Returns click and dblclick event mapping for the given element\n   *\n   * @param element\n   */\n  clickOrDoubleClick(element) {\n    return [fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)), fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean))];\n  }\n  /**\n   * Return an array of CarouselItems for the product thumbnails.\n   * In case there are less then 2 thumbs, we return null.\n   */\n  createThumbs(product) {\n    if (!product.images || !product.images.GALLERY || product.images.GALLERY.length < 2) {\n      return [];\n    }\n    const images = product.images.GALLERY;\n    return images.map(c => of({\n      container: c\n    }));\n  }\n  /**\n   * Keeps the zoom image from leaving the bounding container\n   *\n   * @param positionX\n   * @param positionY\n   * @param imageElement\n   * @param boundingRect\n   */\n  handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n    const paddingX = 60;\n    const paddingY = 60;\n    if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n      positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n    }\n    if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n      positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n    }\n    if (positionX <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n      positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n    }\n    if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n      positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n    }\n    return {\n      x: positionX,\n      y: positionY\n    };\n  }\n  /**\n   * Returns the position of the image based on the cursor pointer\n   *\n   * @param element\n   * @param clientX\n   * @param clientY\n   */\n  calculatePointerMovePosition(element, clientX, clientY) {\n    const boundingRect = element.nativeElement.getBoundingClientRect();\n    const x = clientX - boundingRect.left;\n    const y = clientY - boundingRect.top;\n    const positionX = -x + element.nativeElement.clientWidth / 2;\n    const positionY = -y + element.nativeElement.clientHeight / 2;\n    return {\n      positionX,\n      positionY\n    };\n  }\n}\nProductImageZoomViewComponent.ɵfac = function ProductImageZoomViewComponent_Factory(t) {\n  return new (t || ProductImageZoomViewComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.BreakpointService));\n};\nProductImageZoomViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomViewComponent,\n  selectors: [[\"cx-product-image-zoom-view\"]],\n  viewQuery: function ProductImageZoomViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      i0.ɵɵviewQuery(_c1, 5, ElementRef);\n      i0.ɵɵviewQuery(_c2, 5, ElementRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.defaultImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomedImage = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 3,\n  vars: 5,\n  consts: [[4, \"ngIf\"], [3, \"thumbs$\", \"activeThumb\", \"productImage\"], [\"class\", \"cx-main-image-group\", 4, \"ngIf\"], [1, \"cx-main-image-group\"], [1, \"cx-navigate-image\"], [\"class\", \"btn btn-link\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"cx-default-image-zoom\", 3, \"container\", 4, \"ngIf\"], [\"class\", \"cx-zoom-container\", 4, \"ngIf\"], [1, \"btn\", \"btn-link\", 3, \"click\"], [3, \"type\"], [1, \"cx-default-image-zoom\", 3, \"container\"], [\"defaultImage\", \"\"], [1, \"cx-zoom-container\"], [\"zoomContainer\", \"\"], [1, \"cx-image-zoomed\", 3, \"container\", \"mousemove\", \"touchmove\", \"touchend\"], [\"zoomedImage\", \"\"]],\n  template: function ProductImageZoomViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomViewComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"cx-product-image-zoom-thumbnails\", 1);\n      i0.ɵɵlistener(\"productImage\", function ProductImageZoomViewComponent_Template_cx_product_image_zoom_thumbnails_productImage_2_listener($event) {\n        return ctx.changeImage($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 3, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"thumbs$\", ctx.thumbnails$)(\"activeThumb\", ctx.activeThumb);\n    }\n  },\n  directives: [i3.NgIf, ProductImageZoomThumbnailsComponent, i1.IconComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomViewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-view',\n      templateUrl: './product-image-zoom-view.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.BreakpointService\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    defaultImage: [{\n      type: ViewChild,\n      args: ['defaultImage', {\n        read: ElementRef\n      }]\n    }],\n    zoomImage: [{\n      type: ViewChild,\n      args: ['zoomContainer', {\n        read: ElementRef\n      }]\n    }],\n    zoomedImage: [{\n      type: ViewChild,\n      args: ['zoomedImage', {\n        read: ElementRef\n      }]\n    }]\n  });\n})();\nclass ProductImageZoomDialogComponent {\n  constructor(launchDialogService, el) {\n    this.launchDialogService = launchDialogService;\n    this.el = el;\n    this.iconType = ICON_TYPE;\n    this.focusConfig = {\n      trap: true,\n      block: true,\n      autofocus: 'button',\n      focusOnEscape: true\n    };\n  }\n  handleClick(event) {\n    // Close on click outside the dialog window\n    if (event.target.tagName === this.el.nativeElement.tagName) {\n      this.close('Cross click');\n    }\n  }\n  close(reason = '') {\n    this.launchDialogService.closeDialog(reason);\n  }\n}\nProductImageZoomDialogComponent.ɵfac = function ProductImageZoomDialogComponent_Factory(t) {\n  return new (t || ProductImageZoomDialogComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\nProductImageZoomDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomDialogComponent,\n  selectors: [[\"cx-product-image-zoom-dialog\"]],\n  hostBindings: function ProductImageZoomDialogComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_click_HostBindingHandler($event) {\n        return ctx.handleClick($event);\n      });\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 9,\n  vars: 6,\n  consts: [[1, \"cx-image-zoom-dialog\", 3, \"cxFocus\"], [1, \"cx-dialog-content\"], [1, \"cx-dialog-header\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [1, \"cx-dialog-body\"], [3, \"galleryIndex\"]],\n  template: function ProductImageZoomDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_Template_button_click_3_listener() {\n        return ctx.close(\"cross click\");\n      });\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelementStart(5, \"span\", 4);\n      i0.ɵɵelement(6, \"cx-icon\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"cx-product-image-zoom-view\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 4, \"productImageZoomDialog.close\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"type\", ctx.iconType.CLOSE);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"galleryIndex\", ctx.galleryIndex);\n    }\n  },\n  directives: [i1.FocusDirective, i1.IconComponent, ProductImageZoomViewComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomDialogComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-dialog',\n      templateUrl: 'product-image-zoom-dialog.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    handleClick: [{\n      type: HostListener,\n      args: ['click', ['$event']]\n    }]\n  });\n})();\nconst defaultProductImageZoomLayoutConfig = {\n  launch: {\n    PRODUCT_IMAGE_ZOOM: {\n      inline: true,\n      component: ProductImageZoomDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG\n    }\n  }\n};\nclass ProductImageZoomTriggerComponent {\n  constructor(launchDialogService, vcr) {\n    this.launchDialogService = launchDialogService;\n    this.vcr = vcr;\n    this.iconType = ICON_TYPE;\n    this.subscriptions = new Subscription();\n    this.dialogClose = new EventEmitter();\n  }\n  set expandImage(expand) {\n    if (expand) {\n      this.triggerZoom();\n    }\n  }\n  triggerZoom() {\n    const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */, this.vcr);\n    if (component) {\n      this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose]).pipe(tap(([comp]) => {\n        if (this.galleryIndex) {\n          comp.instance.galleryIndex = this.galleryIndex;\n        }\n      }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n        this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */);\n        comp === null || comp === void 0 ? void 0 : comp.destroy();\n        this.dialogClose.emit();\n        this.expandButton.nativeElement.focus();\n      })).subscribe());\n    }\n  }\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n}\nProductImageZoomTriggerComponent.ɵfac = function ProductImageZoomTriggerComponent_Factory(t) {\n  return new (t || ProductImageZoomTriggerComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n};\nProductImageZoomTriggerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomTriggerComponent,\n  selectors: [[\"cx-product-image-zoom-trigger\"]],\n  viewQuery: function ProductImageZoomTriggerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.expandButton = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\",\n    expandImage: \"expandImage\"\n  },\n  outputs: {\n    dialogClose: \"dialogClose\"\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [\"expandButton\", \"\"], [3, \"type\"]],\n  template: function ProductImageZoomTriggerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0, 1);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomTriggerComponent_Template_button_click_0_listener() {\n        return ctx.triggerZoom();\n      });\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelement(5, \"cx-icon\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"productImageZoomTrigger.expand\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"type\", ctx.iconType.EXPAND_ARROWS);\n    }\n  },\n  directives: [i1.IconComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomTriggerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-trigger',\n      templateUrl: 'product-image-zoom-trigger.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ViewContainerRef\n    }];\n  }, {\n    expandButton: [{\n      type: ViewChild,\n      args: ['expandButton']\n    }],\n    galleryIndex: [{\n      type: Input\n    }],\n    expandImage: [{\n      type: Input\n    }],\n    dialogClose: [{\n      type: Output\n    }]\n  });\n})();\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n  constructor(currentProductService) {\n    super(currentProductService);\n    this.currentProductService = currentProductService;\n    this.expandImage = new BehaviorSubject(false);\n  }\n  openImage(item) {\n    var _a, _b;\n    this.mainMediaContainer.next(item);\n    this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n  }\n  /**\n   * Opens image zoom dialog.\n   */\n  triggerZoom(value) {\n    this.expandImage.next(value);\n  }\n}\nProductImageZoomProductImagesComponent.ɵfac = function ProductImageZoomProductImagesComponent_Factory(t) {\n  return new (t || ProductImageZoomProductImagesComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService));\n};\nProductImageZoomProductImagesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomProductImagesComponent,\n  selectors: [[\"cx-product-images\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 6,\n  vars: 6,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [3, \"container\", \"click\"], [3, \"expandImage\", \"galleryIndex\", \"dialogClose\"], [\"class\", \"thumbs\", \"itemWidth\", \"120px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"120px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", \"format\", \"product\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomProductImagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomProductImagesComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomProductImagesComponent_ng_container_2_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, ProductImageZoomProductImagesComponent_ng_template_4_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.MediaComponent, ProductImageZoomTriggerComponent, i1.CarouselComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomProductImagesComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-images',\n      templateUrl: './product-image-zoom-product-images.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }];\n  }, null);\n})();\nclass ProductImageZoomModule {}\nProductImageZoomModule.ɵfac = function ProductImageZoomModule_Factory(t) {\n  return new (t || ProductImageZoomModule)();\n};\nProductImageZoomModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomModule\n});\nProductImageZoomModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n    cmsComponents: {\n      ProductImagesComponent: {\n        component: ProductImageZoomProductImagesComponent\n      }\n    }\n  })],\n  imports: [[CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule],\n      providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n        cmsComponents: {\n          ProductImagesComponent: {\n            component: ProductImageZoomProductImagesComponent\n          }\n        }\n      })],\n      declarations: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent],\n      exports: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent]\n    }]\n  }], null, null);\n})();\nclass ProductImageZoomComponentsModule {}\nProductImageZoomComponentsModule.ɵfac = function ProductImageZoomComponentsModule_Factory(t) {\n  return new (t || ProductImageZoomComponentsModule)();\n};\nProductImageZoomComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomComponentsModule\n});\nProductImageZoomComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[ProductImageZoomModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomComponentsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [ProductImageZoomModule]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };\n//# sourceMappingURL=spartacus-product-image-zoom-components.js.map","map":{"version":3,"names":["i0","EventEmitter","Component","ChangeDetectionStrategy","Output","Input","ElementRef","ViewChild","HostListener","NgModule","i3","CommonModule","RouterModule","i3$1","isNotNullable","I18nModule","provideConfig","provideDefaultConfig","i1","ICON_TYPE","BREAKPOINT","DIALOG_TYPE","ProductImagesComponent","CarouselModule","IconModule","KeyboardFocusModule","MediaModule","OutletModule","BehaviorSubject","Subscription","merge","combineLatest","fromEvent","of","filter","map","switchMap","tap","distinctUntilChanged","shareReplay","switchMapTo","ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template","rf","ctx","ɵɵelement","thumbs_r3","ɵɵnextContext","ngIf","_r1","ɵɵreference","ɵɵproperty","ProductImageZoomThumbnailsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ɵɵadvance","length","ProductImageZoomThumbnailsComponent_ng_template_2_Template","_r8","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ProductImageZoomThumbnailsComponent_ng_template_2_Template_cx_media_focus_0_listener","restoredCtx","ɵɵrestoreView","item_r6","item","ctx_r7","openImage","container","ɵɵpipe","ɵɵelementEnd","ctx_r2","ɵɵclassProp","ɵɵpipeBind1","isActive","_c0","_c1","_c2","ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template","_r10","ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template_button_click_0_listener","previousProduct_r8","ctx_r9","ctx_r4","iconType","CARET_LEFT","ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template","main_r1","ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template","_r16","ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_mousemove_2_listener","$event","ctx_r15","pointerMove","ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchmove_2_listener","ctx_r17","touchMove","ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchend_2_listener","ctx_r18","clearTouch","ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template","_r22","ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template_button_click_0_listener","nextProduct_r20","ctx_r21","CARET_RIGHT","ProductImageZoomViewComponent_ng_container_0_div_1_Template","getPreviousProduct","isZoomed","getNextProduct","ProductImageZoomViewComponent_ng_container_0_Template","ctx_r0","thumbnails$","_c3","ProductImageZoomProductImagesComponent_ng_container_0_Template","_r6","ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_media_click_1_listener","ctx_r5","triggerZoom","ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_product_image_zoom_trigger_dialogClose_2_listener","main_r4","expandImage","value","selectedIndex","ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template","thumbs_r8","_r2","ProductImageZoomProductImagesComponent_ng_container_2_Template","ProductImageZoomProductImagesComponent_ng_template_4_Template","_r13","ProductImageZoomProductImagesComponent_ng_template_4_Template_cx_media_focus_0_listener","item_r11","ctx_r12","ctx_r3","ProductImageZoomThumbnailsComponent","constructor","mainMediaContainer","productImage","subscription","ngOnInit","add","activeThumb","subscribe","image","next","_a","zoom","galleryIndex","emit","index","thumbnail","asObservable","pipe","_b","url","ngOnDestroy","unsubscribe","ɵfac","ProductImageZoomThumbnailsComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","thumbs$","outputs","decls","vars","consts","template","ProductImageZoomThumbnailsComponent_Template","ɵɵtemplateRefExtractor","directives","NgIf","CarouselComponent","MediaComponent","pipes","AsyncPipe","encapsulation","changeDetection","ngDevMode","ɵsetClassMetadata","args","selector","templateUrl","OnPush","ProductImageZoomViewComponent","currentProductService","renderer","cdRef","breakpointService","defaultImageReady","zoomReady","mainMediaContainer$","defaultImageReady$","zoomReady$","defaultImageClickHandler$","Boolean","_","clickOrDoubleClick","defaultImage","zoomImageClickHandler$","zoomImage","startCoords","left","top","product$","getProduct","p","_c","_d","Array","isArray","images","GALLERY","find","img","PRIMARY","createThumbs","mainImage$","_defaultImage","el","_zoomImage","getActive","thumbs","active","markForCheck","event","touch","touches","changedTouches","boundingRect","zoomedImage","nativeElement","getBoundingClientRect","imageElement","firstChild","x","clientX","y","clientY","moveImage","positionX","positionY","calculatePointerMovePosition","changeImage","handleOutOfBounds","setStyle","element","isUp","md","isDown","lg","product","c","paddingX","paddingY","height","width","clientWidth","clientHeight","ProductImageZoomViewComponent_Factory","ɵɵdirectiveInject","CurrentProductService","Renderer2","ChangeDetectorRef","BreakpointService","viewQuery","ProductImageZoomViewComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","ProductImageZoomViewComponent_Template","ProductImageZoomViewComponent_Template_cx_product_image_zoom_thumbnails_productImage_2_listener","IconComponent","read","ProductImageZoomDialogComponent","launchDialogService","focusConfig","trap","block","autofocus","focusOnEscape","handleClick","target","tagName","close","reason","closeDialog","ProductImageZoomDialogComponent_Factory","LaunchDialogService","hostBindings","ProductImageZoomDialogComponent_HostBindings","ProductImageZoomDialogComponent_click_HostBindingHandler","ProductImageZoomDialogComponent_Template","ProductImageZoomDialogComponent_Template_button_click_3_listener","ɵɵattribute","CLOSE","FocusDirective","TranslatePipe","defaultProductImageZoomLayoutConfig","launch","PRODUCT_IMAGE_ZOOM","inline","component","dialogType","DIALOG","ProductImageZoomTriggerComponent","vcr","subscriptions","dialogClose","expand","comp","instance","clear","destroy","expandButton","focus","ProductImageZoomTriggerComponent_Factory","ViewContainerRef","ProductImageZoomTriggerComponent_Query","ProductImageZoomTriggerComponent_Template","ProductImageZoomTriggerComponent_Template_button_click_0_listener","ɵɵtext","ɵɵtextInterpolate1","EXPAND_ARROWS","ProductImageZoomProductImagesComponent","ProductImageZoomProductImagesComponent_Factory","features","ɵɵInheritDefinitionFeature","ProductImageZoomProductImagesComponent_Template","ProductImageZoomModule","ProductImageZoomModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","providers","cmsComponents","imports","declarations","exports","ProductImageZoomComponentsModule","ProductImageZoomComponentsModule_Factory"],"sources":["D:/demo_spartacus/node_modules/@spartacus/product/fesm2015/spartacus-product-image-zoom-components.js","D:/demo_spartacus/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-thumbnails/product-image-zoom-thumbnails.component.html","D:/demo_spartacus/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-view/product-image-zoom-view.component.html","D:/demo_spartacus/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-product-images/product-image-zoom-product-images.component.html","D:/demo_spartacus/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-dialog/product-image-zoom-dialog.component.html","D:/demo_spartacus/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-trigger/product-image-zoom-trigger.component.html"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\n\nclass ProductImageZoomThumbnailsComponent {\n    constructor() {\n        this.mainMediaContainer = new BehaviorSubject({});\n        this.productImage = new EventEmitter();\n        this.subscription = new Subscription();\n    }\n    ngOnInit() {\n        this.subscription.add(this.activeThumb.subscribe((image) => {\n            this.mainMediaContainer.next(image);\n        }));\n    }\n    openImage(image) {\n        var _a;\n        this.mainMediaContainer.next(image);\n        if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n            this.productImage.emit({ image, index: image.zoom.galleryIndex });\n        }\n    }\n    isActive(thumbnail) {\n        return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map((container) => {\n            var _a, _b;\n            return (((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) &&\n                ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) &&\n                container.zoom.url === thumbnail.zoom.url);\n        }));\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\nProductImageZoomThumbnailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomThumbnailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: { thumbs$: \"thumbs$\", activeThumb: \"activeThumb\" }, outputs: { productImage: \"productImage\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"70px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-thumbnails',\n                    templateUrl: './product-image-zoom-thumbnails.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return []; }, propDecorators: { productImage: [{\n                type: Output\n            }], thumbs$: [{\n                type: Input\n            }], activeThumb: [{\n                type: Input\n            }] } });\n\nclass ProductImageZoomViewComponent {\n    constructor(currentProductService, renderer, cdRef, breakpointService) {\n        this.currentProductService = currentProductService;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.breakpointService = breakpointService;\n        this.iconType = ICON_TYPE;\n        this.mainMediaContainer = new BehaviorSubject(null);\n        this.defaultImageReady = new BehaviorSubject(false);\n        this.zoomReady = new BehaviorSubject(false);\n        this.subscription = new Subscription();\n        this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n        this.defaultImageReady$ = this.defaultImageReady.asObservable();\n        this.zoomReady$ = this.zoomReady.asObservable();\n        this.activeThumb = new EventEmitter();\n        this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n        this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.isZoomed = false;\n        this.product$ = this.currentProductService\n            .getProduct()\n            .pipe(filter(isNotNullable), distinctUntilChanged(), tap((p) => {\n            var _a, _b, _c, _d;\n            if (this.galleryIndex) {\n                const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY)\n                    ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find((img) => { var _a; return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex; })\n                    : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n                this.mainMediaContainer.next(image || null);\n            }\n            else {\n                this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n            }\n        }), shareReplay(1));\n        this.thumbnails$ = this.product$.pipe(map((p) => this.createThumbs(p)), shareReplay(1));\n        this.mainImage$ = combineLatest([\n            this.product$,\n            this.mainMediaContainer$,\n        ]).pipe(map(([, container]) => container));\n    }\n    get defaultImage() {\n        return this._defaultImage;\n    }\n    set defaultImage(el) {\n        if (el) {\n            this._defaultImage = el;\n            this.defaultImageReady.next(true);\n        }\n    }\n    get zoomImage() {\n        return this._zoomImage;\n    }\n    set zoomImage(el) {\n        if (el) {\n            this._zoomImage = el;\n            this.zoomReady.next(true);\n        }\n    }\n    ngOnInit() {\n        this.subscription.add(this.defaultImageClickHandler$.subscribe());\n        this.subscription.add(this.zoomImageClickHandler$.subscribe());\n    }\n    openImage(item) {\n        this.mainMediaContainer.next(item);\n        this.activeThumb.emit(item);\n    }\n    /** find the index of the main media in the list of media */\n    getActive() {\n        var _a, _b, _c, _d;\n        if (Array.isArray(this.mainMediaContainer.value)) {\n            return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n        }\n        return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n    }\n    getPreviousProduct(thumbs) {\n        const active = this.getActive();\n        if (active === 0) {\n            return thumbs[active];\n        }\n        return thumbs[active - 1];\n    }\n    getNextProduct(thumbs) {\n        const active = this.getActive();\n        if (active === thumbs.length - 1) {\n            return thumbs[active];\n        }\n        return thumbs[active + 1];\n    }\n    /**\n     * Zoom in or out of the image\n     */\n    zoom() {\n        this.isZoomed = !this.isZoomed;\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.cdRef.markForCheck();\n    }\n    /**\n     * Touch screen image pan\n     *\n     * @param event\n     */\n    touchMove(event) {\n        var _a, _b, _c, _d;\n        const touch = event.touches[0] || event.changedTouches[0];\n        const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n        const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n        if (!this.startCoords)\n            this.startCoords = { x: touch.clientX, y: touch.clientY };\n        this.left += touch.clientX - this.startCoords.x;\n        this.top += touch.clientY - this.startCoords.y;\n        this.moveImage(this.left, this.top, boundingRect, imageElement);\n        this.startCoords = { x: touch.clientX, y: touch.clientY };\n    }\n    /**\n     * Clears touch location\n     */\n    clearTouch() {\n        this.startCoords = null;\n    }\n    /**\n     * Pointer image pan\n     *\n     * @param event\n     */\n    pointerMove(event) {\n        const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n        const imageElement = this.zoomedImage.nativeElement.firstChild;\n        const { positionX, positionY } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n        this.moveImage(positionX, positionY, boundingRect, imageElement);\n    }\n    changeImage(event) {\n        this.mainMediaContainer.next(event.image);\n    }\n    /**\n     * Applies the offset from touchMove or pointerMove to the image element\n     *\n     * @param positionX\n     * @param positionY\n     * @param boundingRect\n     * @param imageElement\n     */\n    moveImage(positionX, positionY, boundingRect, imageElement) {\n        const { x, y } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n        if (imageElement) {\n            this.renderer.setStyle(imageElement, 'left', x + 'px');\n            this.renderer.setStyle(imageElement, 'top', y + 'px');\n        }\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    /**\n     * Returns click and dblclick event mapping for the given element\n     *\n     * @param element\n     */\n    clickOrDoubleClick(element) {\n        return [\n            fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)),\n            fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean)),\n        ];\n    }\n    /**\n     * Return an array of CarouselItems for the product thumbnails.\n     * In case there are less then 2 thumbs, we return null.\n     */\n    createThumbs(product) {\n        if (!product.images ||\n            !product.images.GALLERY ||\n            product.images.GALLERY.length < 2) {\n            return [];\n        }\n        const images = product.images.GALLERY;\n        return images.map((c) => of({ container: c }));\n    }\n    /**\n     * Keeps the zoom image from leaving the bounding container\n     *\n     * @param positionX\n     * @param positionY\n     * @param imageElement\n     * @param boundingRect\n     */\n    handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n        const paddingX = 60;\n        const paddingY = 60;\n        if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n            positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n        }\n        if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n            positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n        }\n        if (positionX <=\n            -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n            positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n        }\n        if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n            positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n        }\n        return { x: positionX, y: positionY };\n    }\n    /**\n     * Returns the position of the image based on the cursor pointer\n     *\n     * @param element\n     * @param clientX\n     * @param clientY\n     */\n    calculatePointerMovePosition(element, clientX, clientY) {\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        const x = clientX - boundingRect.left;\n        const y = clientY - boundingRect.top;\n        const positionX = -x + element.nativeElement.clientWidth / 2;\n        const positionY = -y + element.nativeElement.clientHeight / 2;\n        return { positionX, positionY };\n    }\n}\nProductImageZoomViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, deps: [{ token: i1.CurrentProductService }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.BreakpointService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: { galleryIndex: \"galleryIndex\" }, viewQueries: [{ propertyName: \"defaultImage\", first: true, predicate: [\"defaultImage\"], descendants: true, read: ElementRef }, { propertyName: \"zoomImage\", first: true, predicate: [\"zoomContainer\"], descendants: true, read: ElementRef }, { propertyName: \"zoomedImage\", first: true, predicate: [\"zoomedImage\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <div class=\\\"cx-main-image-group\\\" *ngIf=\\\"thumbnails$ | async as thumbs\\\">\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getPreviousProduct(thumbs) | async as previousProduct\\\"\\n        (click)=\\\"openImage(previousProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_LEFT\\\"></cx-icon>\\n      </button>\\n    </div>\\n    <cx-media\\n      #defaultImage\\n      class=\\\"cx-default-image-zoom\\\"\\n      *ngIf=\\\"!isZoomed\\\"\\n      [container]=\\\"main\\\"\\n    >\\n    </cx-media>\\n    <div #zoomContainer class=\\\"cx-zoom-container\\\" *ngIf=\\\"isZoomed\\\">\\n      <cx-media\\n        #zoomedImage\\n        class=\\\"cx-image-zoomed\\\"\\n        [container]=\\\"main\\\"\\n        (mousemove)=\\\"pointerMove($event)\\\"\\n        (touchmove)=\\\"touchMove($event)\\\"\\n        (touchend)=\\\"clearTouch()\\\"\\n      >\\n      </cx-media>\\n    </div>\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getNextProduct(thumbs) | async as nextProduct\\\"\\n        (click)=\\\"openImage(nextProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_RIGHT\\\"></cx-icon>\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<cx-product-image-zoom-thumbnails\\n  [thumbs$]=\\\"thumbnails$\\\"\\n  [activeThumb]=\\\"activeThumb\\\"\\n  (productImage)=\\\"changeImage($event)\\\"\\n></cx-product-image-zoom-thumbnails>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: [\"thumbs$\", \"activeThumb\"], outputs: [\"productImage\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-view',\n                    templateUrl: './product-image-zoom-view.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.BreakpointService }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], defaultImage: [{\n                type: ViewChild,\n                args: ['defaultImage', { read: ElementRef }]\n            }], zoomImage: [{\n                type: ViewChild,\n                args: ['zoomContainer', { read: ElementRef }]\n            }], zoomedImage: [{\n                type: ViewChild,\n                args: ['zoomedImage', { read: ElementRef }]\n            }] } });\n\nclass ProductImageZoomDialogComponent {\n    constructor(launchDialogService, el) {\n        this.launchDialogService = launchDialogService;\n        this.el = el;\n        this.iconType = ICON_TYPE;\n        this.focusConfig = {\n            trap: true,\n            block: true,\n            autofocus: 'button',\n            focusOnEscape: true,\n        };\n    }\n    handleClick(event) {\n        // Close on click outside the dialog window\n        if (event.target.tagName === this.el.nativeElement.tagName) {\n            this.close('Cross click');\n        }\n    }\n    close(reason = '') {\n        this.launchDialogService.closeDialog(reason);\n    }\n}\nProductImageZoomDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomDialogComponent, selector: \"cx-product-image-zoom-dialog\", inputs: { galleryIndex: \"galleryIndex\" }, host: { listeners: { \"click\": \"handleClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"cx-image-zoom-dialog\\\" [cxFocus]=\\\"focusConfig\\\">\\n  <div class=\\\"cx-dialog-content\\\">\\n    <div class=\\\"cx-dialog-header\\\">\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"close\\\"\\n        [attr.aria-label]=\\\"'productImageZoomDialog.close' | cxTranslate\\\"\\n        (click)=\\\"close('cross click')\\\"\\n      >\\n        <span aria-hidden=\\\"true\\\">\\n          <cx-icon [type]=\\\"iconType.CLOSE\\\"></cx-icon>\\n        </span>\\n      </button>\\n    </div>\\n    <div class=\\\"cx-dialog-body\\\">\\n      <cx-product-image-zoom-view\\n        [galleryIndex]=\\\"galleryIndex\\\"\\n      ></cx-product-image-zoom-view>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: [\"galleryIndex\"] }], directives: [{ type: i1.FocusDirective, selector: \"[cxFocus]\", inputs: [\"cxFocus\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-dialog',\n                    templateUrl: 'product-image-zoom-dialog.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ElementRef }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], handleClick: [{\n                type: HostListener,\n                args: ['click', ['$event']]\n            }] } });\n\nconst defaultProductImageZoomLayoutConfig = {\n    launch: {\n        PRODUCT_IMAGE_ZOOM: {\n            inline: true,\n            component: ProductImageZoomDialogComponent,\n            dialogType: DIALOG_TYPE.DIALOG,\n        },\n    },\n};\n\nclass ProductImageZoomTriggerComponent {\n    constructor(launchDialogService, vcr) {\n        this.launchDialogService = launchDialogService;\n        this.vcr = vcr;\n        this.iconType = ICON_TYPE;\n        this.subscriptions = new Subscription();\n        this.dialogClose = new EventEmitter();\n    }\n    set expandImage(expand) {\n        if (expand) {\n            this.triggerZoom();\n        }\n    }\n    triggerZoom() {\n        const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */, this.vcr);\n        if (component) {\n            this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose])\n                .pipe(tap(([comp]) => {\n                if (this.galleryIndex) {\n                    comp.instance.galleryIndex = this.galleryIndex;\n                }\n            }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n                this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */);\n                comp === null || comp === void 0 ? void 0 : comp.destroy();\n                this.dialogClose.emit();\n                this.expandButton.nativeElement.focus();\n            }))\n                .subscribe());\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nProductImageZoomTriggerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomTriggerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: { galleryIndex: \"galleryIndex\", expandImage: \"expandImage\" }, outputs: { dialogClose: \"dialogClose\" }, viewQueries: [{ propertyName: \"expandButton\", first: true, predicate: [\"expandButton\"], descendants: true }], ngImport: i0, template: \"<button\\n  #expandButton\\n  class=\\\"btn btn-link cx-action-link\\\"\\n  (click)=\\\"triggerZoom()\\\"\\n>\\n  <span>\\n    {{ 'productImageZoomTrigger.expand' | cxTranslate }}\\n    <cx-icon [type]=\\\"iconType.EXPAND_ARROWS\\\"></cx-icon\\n  ></span>\\n</button>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-trigger',\n                    templateUrl: 'product-image-zoom-trigger.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ViewContainerRef }]; }, propDecorators: { expandButton: [{\n                type: ViewChild,\n                args: ['expandButton']\n            }], galleryIndex: [{\n                type: Input\n            }], expandImage: [{\n                type: Input\n            }], dialogClose: [{\n                type: Output\n            }] } });\n\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n    constructor(currentProductService) {\n        super(currentProductService);\n        this.currentProductService = currentProductService;\n        this.expandImage = new BehaviorSubject(false);\n    }\n    openImage(item) {\n        var _a, _b;\n        this.mainMediaContainer.next(item);\n        this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n    }\n    /**\n     * Opens image zoom dialog.\n     */\n    triggerZoom(value) {\n        this.expandImage.next(value);\n    }\n}\nProductImageZoomProductImagesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, deps: [{ token: i1.CurrentProductService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomProductImagesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomProductImagesComponent, selector: \"cx-product-images\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <cx-media [container]=\\\"main\\\" (click)=\\\"triggerZoom(true)\\\"></cx-media>\\n  <cx-product-image-zoom-trigger\\n    [expandImage]=\\\"expandImage.value\\\"\\n    [galleryIndex]=\\\"selectedIndex\\\"\\n    (dialogClose)=\\\"triggerZoom(false)\\\"\\n  ></cx-product-image-zoom-trigger>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"120px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n    format=\\\"product\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: [\"galleryIndex\", \"expandImage\"], outputs: [\"dialogClose\"] }, { type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-images',\n                    templateUrl: './product-image-zoom-product-images.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }]; } });\n\nclass ProductImageZoomModule {\n}\nProductImageZoomModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, declarations: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent], imports: [CarouselModule,\n        CommonModule,\n        I18nModule,\n        IconModule,\n        KeyboardFocusModule,\n        MediaModule,\n        OutletModule,\n        RouterModule], exports: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent] });\nProductImageZoomModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, providers: [\n        provideConfig(defaultProductImageZoomLayoutConfig),\n        provideDefaultConfig({\n            cmsComponents: {\n                ProductImagesComponent: {\n                    component: ProductImageZoomProductImagesComponent,\n                },\n            },\n        }),\n    ], imports: [[\n            CarouselModule,\n            CommonModule,\n            I18nModule,\n            IconModule,\n            KeyboardFocusModule,\n            MediaModule,\n            OutletModule,\n            RouterModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CarouselModule,\n                        CommonModule,\n                        I18nModule,\n                        IconModule,\n                        KeyboardFocusModule,\n                        MediaModule,\n                        OutletModule,\n                        RouterModule,\n                    ],\n                    providers: [\n                        provideConfig(defaultProductImageZoomLayoutConfig),\n                        provideDefaultConfig({\n                            cmsComponents: {\n                                ProductImagesComponent: {\n                                    component: ProductImageZoomProductImagesComponent,\n                                },\n                            },\n                        }),\n                    ],\n                    declarations: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                    exports: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                }]\n        }] });\n\nclass ProductImageZoomComponentsModule {\n}\nProductImageZoomComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [ProductImageZoomModule] });\nProductImageZoomComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [[ProductImageZoomModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductImageZoomModule],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };\n//# sourceMappingURL=spartacus-product-image-zoom-components.js.map\n",null,null,null,null,null],"mappings":"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"},"metadata":{},"sourceType":"module"}