{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Input, NgModule, Injectable } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2$1 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport * as i1 from '@spartacus/core';\nimport { VariantQualifier, UrlModule, I18nModule, VariantType, isNotNullable, provideDefaultConfig } from '@spartacus/core';\nimport { filter, take, distinctUntilChanged, tap, switchMap, map } from 'rxjs/operators';\nimport * as i1$1 from '@spartacus/storefront';\nimport { of } from 'rxjs';\nfunction ProductVariantColorSelectorComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", v_r1.code);\n    i0.ɵɵproperty(\"selected\", v_r1.code === (ctx_r0.product == null ? null : ctx_r0.product.code));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getVariantOptionValue(v_r1.variantOptionQualifiers), \" \");\n  }\n}\nfunction ProductVariantSizeSelectorComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", v_r1.code);\n    i0.ɵɵproperty(\"selected\", v_r1.code === (ctx_r0.product == null ? null : ctx_r0.product.code));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getVariantOptionValue(v_r1.variantOptionQualifiers), \" \");\n  }\n}\nfunction ProductVariantStyleSelectorComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementStart(3, \"span\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"productVariants.style\"), \": \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.getVariantOptionValue(ctx_r0.variants == null ? null : ctx_r0.variants.selected.variantOptionQualifiers));\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"selected-variant\": a0\n  };\n};\nfunction ProductVariantStyleSelectorComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelementStart(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductVariantStyleSelectorComponent_li_4_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const v_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.changeStyle(v_r2.code);\n    });\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, v_r2.code === (ctx_r1.variants == null ? null : ctx_r1.variants.selected == null ? null : ctx_r1.variants.selected.code)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r1.getVariantThumbnailUrl(v_r2.variantOptionQualifiers), i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"title\", ctx_r1.getVariantOptionValue(v_r2.variantOptionQualifiers));\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r1.getVariantOptionValue(v_r2.variantOptionQualifiers));\n  }\n}\nfunction ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_style_selector_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-variant-style-selector\", 5);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"variants\", ctx_r3.variants[ctx_r3.variantType.STYLE]);\n  }\n}\nfunction ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_size_selector_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-variant-size-selector\", 6);\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"product\", product_r1)(\"variants\", ctx_r4.variants[ctx_r4.variantType.SIZE]);\n  }\n}\nfunction ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_color_selector_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-variant-color-selector\", 6);\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"product\", product_r1)(\"variants\", ctx_r5.variants[ctx_r5.variantType.COLOR]);\n  }\n}\nfunction ProductVariantsContainerComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_style_selector_1_Template, 1, 1, \"cx-product-variant-style-selector\", 3);\n    i0.ɵɵtemplate(2, ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_size_selector_2_Template, 1, 2, \"cx-product-variant-size-selector\", 4);\n    i0.ɵɵtemplate(3, ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_color_selector_3_Template, 1, 2, \"cx-product-variant-color-selector\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.variants[ctx_r2.variantType.STYLE]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.variants[ctx_r2.variantType.SIZE]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.variants[ctx_r2.variantType.COLOR]);\n  }\n}\nfunction ProductVariantsContainerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductVariantsContainerComponent_ng_container_0_div_1_Template, 4, 3, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.baseOptions == null ? null : product_r1.baseOptions.length);\n  }\n}\nclass ProductVariantColorSelectorComponent {\n  constructor(routingService) {\n    this.routingService = routingService;\n  }\n  changeColor(code, name) {\n    if (code) {\n      this.routingService.go({\n        cxRoute: 'product',\n        params: {\n          code,\n          name\n        }\n      });\n    }\n    return null;\n  }\n  getVariantOptionValue(qualifiers) {\n    const obj = qualifiers.find(q => q.qualifier === VariantQualifier.COLOR);\n    return obj ? obj.value : '';\n  }\n}\nProductVariantColorSelectorComponent.ɵfac = function ProductVariantColorSelectorComponent_Factory(t) {\n  return new (t || ProductVariantColorSelectorComponent)(i0.ɵɵdirectiveInject(i1.RoutingService));\n};\nProductVariantColorSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductVariantColorSelectorComponent,\n  selectors: [[\"cx-product-variant-color-selector\"]],\n  inputs: {\n    product: \"product\",\n    variants: \"variants\"\n  },\n  decls: 7,\n  vars: 4,\n  consts: [[1, \"variant-selector\"], [1, \"variant-name\"], [1, \"form-control\", \"variant-select\", 3, \"change\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\", \"selected\"]],\n  template: function ProductVariantColorSelectorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"select\", 2);\n      i0.ɵɵlistener(\"change\", function ProductVariantColorSelectorComponent_Template_select_change_5_listener($event) {\n        return ctx.changeColor($event.target.value, ctx.product == null ? null : ctx.product.name);\n      });\n      i0.ɵɵtemplate(6, ProductVariantColorSelectorComponent_option_6_Template, 2, 3, \"option\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 2, \"productVariants.color\"), \":\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.variants == null ? null : ctx.variants.options);\n    }\n  },\n  directives: [i2.NgForOf],\n  pipes: [i1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantColorSelectorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-variant-color-selector',\n      templateUrl: './product-variant-color-selector.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.RoutingService\n    }];\n  }, {\n    product: [{\n      type: Input\n    }],\n    variants: [{\n      type: Input\n    }]\n  });\n})();\nclass ProductVariantColorSelectorModule {}\nProductVariantColorSelectorModule.ɵfac = function ProductVariantColorSelectorModule_Factory(t) {\n  return new (t || ProductVariantColorSelectorModule)();\n};\nProductVariantColorSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantColorSelectorModule\n});\nProductVariantColorSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, UrlModule, I18nModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantColorSelectorModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n      declarations: [ProductVariantColorSelectorComponent],\n      exports: [ProductVariantColorSelectorComponent]\n    }]\n  }], null, null);\n})();\nclass ProductVariantSizeSelectorComponent {\n  constructor(productService, routingService) {\n    this.productService = productService;\n    this.routingService = routingService;\n  }\n  changeSize(code) {\n    if (code) {\n      this.productService.get(code, \"list\" /* LIST */).pipe(\n      // below call might looks redundant but in fact this data is going to be loaded anyways\n      // we're just calling it earlier and storing\n      filter(p => !!p), take(1)).subscribe(product => {\n        this.routingService.go({\n          cxRoute: 'product',\n          params: product\n        });\n      });\n    }\n    return null;\n  }\n  getVariantOptionValue(qualifiers) {\n    const obj = qualifiers.find(q => q.qualifier === VariantQualifier.SIZE);\n    return obj ? obj.value : '';\n  }\n}\nProductVariantSizeSelectorComponent.ɵfac = function ProductVariantSizeSelectorComponent_Factory(t) {\n  return new (t || ProductVariantSizeSelectorComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i1.RoutingService));\n};\nProductVariantSizeSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductVariantSizeSelectorComponent,\n  selectors: [[\"cx-product-variant-size-selector\"]],\n  inputs: {\n    product: \"product\",\n    variants: \"variants\"\n  },\n  decls: 11,\n  vars: 10,\n  consts: [[1, \"variant-selector\"], [1, \"variant-name\"], [1, \"form-control\", \"variant-select\", 3, \"change\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"#\", 1, \"size-guide\", 3, \"title\"], [3, \"value\", \"selected\"]],\n  template: function ProductVariantSizeSelectorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"select\", 2);\n      i0.ɵɵlistener(\"change\", function ProductVariantSizeSelectorComponent_Template_select_change_5_listener($event) {\n        return ctx.changeSize($event.target.value);\n      });\n      i0.ɵɵtemplate(6, ProductVariantSizeSelectorComponent_option_6_Template, 2, 3, \"option\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"a\", 4);\n      i0.ɵɵpipe(8, \"cxTranslate\");\n      i0.ɵɵtext(9);\n      i0.ɵɵpipe(10, \"cxTranslate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 4, \"productVariants.size\"), \":\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.variants == null ? null : ctx.variants.options);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(8, 6, \"productVariants.sizeGuideLabel\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 8, \"productVariants.sizeGuideLabel\"), \" \");\n    }\n  },\n  directives: [i2.NgForOf],\n  pipes: [i1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantSizeSelectorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-variant-size-selector',\n      templateUrl: './product-variant-size-selector.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.ProductService\n    }, {\n      type: i1.RoutingService\n    }];\n  }, {\n    product: [{\n      type: Input\n    }],\n    variants: [{\n      type: Input\n    }]\n  });\n})();\nclass ProductVariantSizeSelectorModule {}\nProductVariantSizeSelectorModule.ɵfac = function ProductVariantSizeSelectorModule_Factory(t) {\n  return new (t || ProductVariantSizeSelectorModule)();\n};\nProductVariantSizeSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantSizeSelectorModule\n});\nProductVariantSizeSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, UrlModule, I18nModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantSizeSelectorModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n      declarations: [ProductVariantSizeSelectorComponent],\n      exports: [ProductVariantSizeSelectorComponent]\n    }]\n  }], null, null);\n})();\nclass ProductVariantStyleSelectorComponent {\n  constructor(config, productService, routingService) {\n    this.config = config;\n    this.productService = productService;\n    this.routingService = routingService;\n    this.variantQualifier = VariantQualifier;\n  }\n  getVariantOptionValue(qualifiers) {\n    const obj = qualifiers.find(q => q.qualifier === VariantQualifier.STYLE);\n    return obj ? obj.value : '';\n  }\n  getVariantThumbnailUrl(variantOptionQualifiers) {\n    var _a, _b, _c, _d;\n    const qualifier = variantOptionQualifiers.find(item => item.image);\n    return qualifier ? `${(_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.backend) === null || _b === void 0 ? void 0 : _b.occ) === null || _c === void 0 ? void 0 : _c.baseUrl}${(_d = qualifier.image) === null || _d === void 0 ? void 0 : _d.url}` : '';\n  }\n  changeStyle(code) {\n    if (code) {\n      this.productService.get(code, \"list\" /* LIST */).pipe(\n      // below call might looks redundant but in fact this data is going to be loaded anyways\n      // we're just calling it earlier and storing\n      filter(p => !!p), take(1)).subscribe(product => {\n        this.routingService.go({\n          cxRoute: 'product',\n          params: product\n        });\n      });\n    }\n    return null;\n  }\n}\nProductVariantStyleSelectorComponent.ɵfac = function ProductVariantStyleSelectorComponent_Factory(t) {\n  return new (t || ProductVariantStyleSelectorComponent)(i0.ɵɵdirectiveInject(i1.OccConfig), i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i1.RoutingService));\n};\nProductVariantStyleSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductVariantStyleSelectorComponent,\n  selectors: [[\"cx-product-variant-style-selector\"]],\n  inputs: {\n    variants: \"variants\"\n  },\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"variant-selector\"], [\"class\", \"variant-name\", 4, \"ngIf\"], [1, \"variant-list\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"variant-name\"], [1, \"style-name\"], [3, \"ngClass\"], [1, \"variant-button\", 3, \"click\"], [3, \"src\", \"title\", \"alt\"]],\n  template: function ProductVariantStyleSelectorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵtemplate(2, ProductVariantStyleSelectorComponent_div_2_Template, 5, 4, \"div\", 1);\n      i0.ɵɵelementStart(3, \"ul\", 2);\n      i0.ɵɵtemplate(4, ProductVariantStyleSelectorComponent_li_4_Template, 3, 6, \"li\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementContainerEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.variants.selected);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.variants == null ? null : ctx.variants.options);\n    }\n  },\n  directives: [i2.NgIf, i2.NgForOf, i2.NgClass],\n  pipes: [i1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantStyleSelectorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-variant-style-selector',\n      templateUrl: './product-variant-style-selector.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.OccConfig\n    }, {\n      type: i1.ProductService\n    }, {\n      type: i1.RoutingService\n    }];\n  }, {\n    variants: [{\n      type: Input\n    }]\n  });\n})();\nclass ProductVariantStyleSelectorModule {}\nProductVariantStyleSelectorModule.ɵfac = function ProductVariantStyleSelectorModule_Factory(t) {\n  return new (t || ProductVariantStyleSelectorModule)();\n};\nProductVariantStyleSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantStyleSelectorModule\n});\nProductVariantStyleSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, UrlModule, I18nModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantStyleSelectorModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n      declarations: [ProductVariantStyleSelectorComponent],\n      exports: [ProductVariantStyleSelectorComponent]\n    }]\n  }], null, null);\n})();\nclass ProductVariantsContainerComponent {\n  constructor(currentProductService) {\n    this.currentProductService = currentProductService;\n    this.variants = {};\n    this.variantType = VariantType;\n  }\n  ngOnInit() {\n    this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), filter(product => !!product.baseOptions), distinctUntilChanged(), tap(product => {\n      product.baseOptions.forEach(option => {\n        if (option === null || option === void 0 ? void 0 : option.variantType) {\n          this.variants[option.variantType] = option;\n        }\n      });\n    }));\n  }\n}\nProductVariantsContainerComponent.ɵfac = function ProductVariantsContainerComponent_Factory(t) {\n  return new (t || ProductVariantsContainerComponent)(i0.ɵɵdirectiveInject(i1$1.CurrentProductService));\n};\nProductVariantsContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductVariantsContainerComponent,\n  selectors: [[\"cx-product-variants-container\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"class\", \"variant-section\", 4, \"ngIf\"], [1, \"variant-section\"], [3, \"variants\", 4, \"ngIf\"], [3, \"product\", \"variants\", 4, \"ngIf\"], [3, \"variants\"], [3, \"product\", \"variants\"]],\n  template: function ProductVariantsContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductVariantsContainerComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n    }\n  },\n  directives: [i2.NgIf, ProductVariantStyleSelectorComponent, ProductVariantSizeSelectorComponent, ProductVariantColorSelectorComponent],\n  pipes: [i2.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantsContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-variants-container',\n      templateUrl: './product-variants-container.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1$1.CurrentProductService\n    }];\n  }, null);\n})();\nclass ProductVariantsContainerModule {}\nProductVariantsContainerModule.ɵfac = function ProductVariantsContainerModule_Factory(t) {\n  return new (t || ProductVariantsContainerModule)();\n};\nProductVariantsContainerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantsContainerModule\n});\nProductVariantsContainerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, UrlModule, I18nModule, ProductVariantStyleSelectorModule, ProductVariantSizeSelectorModule, ProductVariantColorSelectorModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantsContainerModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, RouterModule, UrlModule, I18nModule, ProductVariantStyleSelectorModule, ProductVariantSizeSelectorModule, ProductVariantColorSelectorModule],\n      declarations: [ProductVariantsContainerComponent]\n    }]\n  }], null, null);\n})();\n\n/**\n * Guard that will redirect to purchasable variant of product, if the navigation\n * is for the non-purchasable one\n */\nclass ProductVariantsGuard {\n  constructor(productService, semanticPathService, router) {\n    this.productService = productService;\n    this.semanticPathService = semanticPathService;\n    this.router = router;\n  }\n  canActivate(activatedRoute) {\n    var _a;\n    const productCode = (_a = activatedRoute.params) === null || _a === void 0 ? void 0 : _a.productCode;\n    if (!productCode) {\n      return of(true);\n    }\n    return this.productService.get(productCode, \"variants\" /* VARIANTS */).pipe(filter(p => !!p), switchMap(product => {\n      if (!product.purchasable) {\n        const purchasableCode = this.findPurchasableProductCode(product);\n        if (purchasableCode) {\n          return this.productService.get(purchasableCode, \"list\" /* LIST */).pipe(filter(p => !!p), take(1), map(_product => {\n            return this.router.createUrlTree(this.semanticPathService.transform({\n              cxRoute: 'product',\n              params: _product\n            }));\n          }));\n        }\n      }\n      return of(true);\n    }));\n  }\n  /**\n   * Finds a purchasable product code looking at variant options, if any\n   *\n   * @param product\n   */\n  findPurchasableProductCode(product) {\n    var _a, _b, _c;\n    if ((_a = product.variantOptions) === null || _a === void 0 ? void 0 : _a.length) {\n      const results = product.variantOptions.filter(variant => {\n        return variant.stock && variant.stock.stockLevel ? variant : false;\n      });\n      return results && results.length ? (_b = results[0]) === null || _b === void 0 ? void 0 : _b.code : (_c = product.variantOptions[0]) === null || _c === void 0 ? void 0 : _c.code;\n    }\n    return undefined;\n  }\n}\nProductVariantsGuard.ɵfac = function ProductVariantsGuard_Factory(t) {\n  return new (t || ProductVariantsGuard)(i0.ɵɵinject(i1.ProductService), i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i2$1.Router));\n};\nProductVariantsGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ProductVariantsGuard,\n  factory: ProductVariantsGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantsGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.ProductService\n    }, {\n      type: i1.SemanticPathService\n    }, {\n      type: i2$1.Router\n    }];\n  }, null);\n})();\nclass ProductVariantsComponentsModule {}\nProductVariantsComponentsModule.ɵfac = function ProductVariantsComponentsModule_Factory(t) {\n  return new (t || ProductVariantsComponentsModule)();\n};\nProductVariantsComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantsComponentsModule\n});\nProductVariantsComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfig({\n    cmsComponents: {\n      ProductVariantSelectorComponent: {\n        component: ProductVariantsContainerComponent,\n        guards: [ProductVariantsGuard]\n      }\n    }\n  })],\n  imports: [[ProductVariantsContainerModule, ProductVariantColorSelectorModule, ProductVariantSizeSelectorModule, ProductVariantStyleSelectorModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantsComponentsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [ProductVariantsContainerModule, ProductVariantColorSelectorModule, ProductVariantSizeSelectorModule, ProductVariantStyleSelectorModule],\n      providers: [provideDefaultConfig({\n        cmsComponents: {\n          ProductVariantSelectorComponent: {\n            component: ProductVariantsContainerComponent,\n            guards: [ProductVariantsGuard]\n          }\n        }\n      })]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductVariantColorSelectorComponent, ProductVariantColorSelectorModule, ProductVariantSizeSelectorComponent, ProductVariantSizeSelectorModule, ProductVariantStyleSelectorComponent, ProductVariantStyleSelectorModule, ProductVariantsComponentsModule, ProductVariantsContainerComponent, ProductVariantsContainerModule, ProductVariantsGuard };\n//# sourceMappingURL=spartacus-product-variants-components.js.map","map":{"version":3,"names":["i0","Component","ChangeDetectionStrategy","Input","NgModule","Injectable","i2","CommonModule","i2$1","RouterModule","i1","VariantQualifier","UrlModule","I18nModule","VariantType","isNotNullable","provideDefaultConfig","filter","take","distinctUntilChanged","tap","switchMap","map","i1$1","of","ProductVariantColorSelectorComponent_option_6_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","v_r1","$implicit","ctx_r0","ɵɵnextContext","ɵɵpropertyInterpolate","code","ɵɵproperty","product","ɵɵadvance","ɵɵtextInterpolate1","getVariantOptionValue","variantOptionQualifiers","ProductVariantSizeSelectorComponent_option_6_Template","ProductVariantStyleSelectorComponent_div_2_Template","ɵɵpipe","ɵɵpipeBind1","ɵɵtextInterpolate","variants","selected","_c0","a0","ProductVariantStyleSelectorComponent_li_4_Template","_r4","ɵɵgetCurrentView","ɵɵlistener","ProductVariantStyleSelectorComponent_li_4_Template_button_click_1_listener","restoredCtx","ɵɵrestoreView","v_r2","ctx_r3","changeStyle","ɵɵelement","ctx_r1","ɵɵpureFunction1","getVariantThumbnailUrl","ɵɵsanitizeUrl","ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_style_selector_1_Template","variantType","STYLE","ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_size_selector_2_Template","product_r1","ngIf","ctx_r4","SIZE","ProductVariantsContainerComponent_ng_container_0_div_1_cx_product_variant_color_selector_3_Template","ctx_r5","COLOR","ProductVariantsContainerComponent_ng_container_0_div_1_Template","ɵɵtemplate","ctx_r2","ProductVariantsContainerComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","baseOptions","length","ProductVariantColorSelectorComponent","constructor","routingService","changeColor","name","go","cxRoute","params","qualifiers","obj","find","q","qualifier","value","ɵfac","ProductVariantColorSelectorComponent_Factory","t","ɵɵdirectiveInject","RoutingService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","ProductVariantColorSelectorComponent_Template","ProductVariantColorSelectorComponent_Template_select_change_5_listener","$event","target","options","directives","NgForOf","pipes","TranslatePipe","encapsulation","changeDetection","ngDevMode","ɵsetClassMetadata","args","selector","templateUrl","OnPush","ProductVariantColorSelectorModule","ProductVariantColorSelectorModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ProductVariantSizeSelectorComponent","productService","changeSize","get","pipe","p","subscribe","ProductVariantSizeSelectorComponent_Factory","ProductService","ProductVariantSizeSelectorComponent_Template","ProductVariantSizeSelectorComponent_Template_select_change_5_listener","ProductVariantSizeSelectorModule","ProductVariantSizeSelectorModule_Factory","ProductVariantStyleSelectorComponent","config","variantQualifier","_a","_b","_c","_d","item","image","backend","occ","baseUrl","url","ProductVariantStyleSelectorComponent_Factory","OccConfig","ProductVariantStyleSelectorComponent_Template","NgIf","NgClass","ProductVariantStyleSelectorModule","ProductVariantStyleSelectorModule_Factory","ProductVariantsContainerComponent","currentProductService","ngOnInit","product$","getProduct","forEach","option","ProductVariantsContainerComponent_Factory","CurrentProductService","ProductVariantsContainerComponent_Template","AsyncPipe","ProductVariantsContainerModule","ProductVariantsContainerModule_Factory","ProductVariantsGuard","semanticPathService","router","canActivate","activatedRoute","productCode","purchasable","purchasableCode","findPurchasableProductCode","_product","createUrlTree","transform","variantOptions","results","variant","stock","stockLevel","undefined","ProductVariantsGuard_Factory","ɵɵinject","SemanticPathService","Router","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ProductVariantsComponentsModule","ProductVariantsComponentsModule_Factory","providers","cmsComponents","ProductVariantSelectorComponent","component","guards"],"sources":["D:/demo_spartacus/node_modules/@spartacus/product/fesm2015/spartacus-product-variants-components.js","D:/demo_spartacus/node_modules/feature-libs/product/variants/components/variant-color-selector/product-variant-color-selector.component.html","D:/demo_spartacus/node_modules/feature-libs/product/variants/components/variant-size-selector/product-variant-size-selector.component.html","D:/demo_spartacus/node_modules/feature-libs/product/variants/components/variant-style-selector/product-variant-style-selector.component.html","D:/demo_spartacus/node_modules/feature-libs/product/variants/components/product-variants-container/product-variants-container.component.html"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Input, NgModule, Injectable } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2$1 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport * as i1 from '@spartacus/core';\nimport { VariantQualifier, UrlModule, I18nModule, VariantType, isNotNullable, provideDefaultConfig } from '@spartacus/core';\nimport { filter, take, distinctUntilChanged, tap, switchMap, map } from 'rxjs/operators';\nimport * as i1$1 from '@spartacus/storefront';\nimport { of } from 'rxjs';\n\nclass ProductVariantColorSelectorComponent {\n    constructor(routingService) {\n        this.routingService = routingService;\n    }\n    changeColor(code, name) {\n        if (code) {\n            this.routingService.go({\n                cxRoute: 'product',\n                params: { code, name },\n            });\n        }\n        return null;\n    }\n    getVariantOptionValue(qualifiers) {\n        const obj = qualifiers.find((q) => q.qualifier === VariantQualifier.COLOR);\n        return obj ? obj.value : '';\n    }\n}\nProductVariantColorSelectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorComponent, deps: [{ token: i1.RoutingService }], target: i0.ɵɵFactoryTarget.Component });\nProductVariantColorSelectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductVariantColorSelectorComponent, selector: \"cx-product-variant-color-selector\", inputs: { product: \"product\", variants: \"variants\" }, ngImport: i0, template: \"<ng-container>\\n  <div class=\\\"variant-selector\\\">\\n    <div class=\\\"variant-name\\\">{{ 'productVariants.color' | cxTranslate }}:</div>\\n\\n    <select\\n      (change)=\\\"changeColor($event.target.value, product?.name)\\\"\\n      class=\\\"form-control variant-select\\\"\\n    >\\n      <option\\n        *ngFor=\\\"let v of variants?.options\\\"\\n        value=\\\"{{ v.code }}\\\"\\n        [selected]=\\\"v.code === product?.code\\\"\\n      >\\n        {{ getVariantOptionValue(v.variantOptionQualifiers) }}\\n      </option>\\n    </select>\\n  </div>\\n</ng-container>\\n\", directives: [{ type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"cxTranslate\": i1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-variant-color-selector',\n                    templateUrl: './product-variant-color-selector.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.RoutingService }]; }, propDecorators: { product: [{\n                type: Input\n            }], variants: [{\n                type: Input\n            }] } });\n\nclass ProductVariantColorSelectorModule {\n}\nProductVariantColorSelectorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantColorSelectorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorModule, declarations: [ProductVariantColorSelectorComponent], imports: [CommonModule, RouterModule, UrlModule, I18nModule], exports: [ProductVariantColorSelectorComponent] });\nProductVariantColorSelectorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorModule, imports: [[CommonModule, RouterModule, UrlModule, I18nModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantColorSelectorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n                    declarations: [ProductVariantColorSelectorComponent],\n                    exports: [ProductVariantColorSelectorComponent],\n                }]\n        }] });\n\nclass ProductVariantSizeSelectorComponent {\n    constructor(productService, routingService) {\n        this.productService = productService;\n        this.routingService = routingService;\n    }\n    changeSize(code) {\n        if (code) {\n            this.productService\n                .get(code, \"list\" /* LIST */)\n                .pipe(\n            // below call might looks redundant but in fact this data is going to be loaded anyways\n            // we're just calling it earlier and storing\n            filter((p) => !!p), take(1))\n                .subscribe((product) => {\n                this.routingService.go({\n                    cxRoute: 'product',\n                    params: product,\n                });\n            });\n        }\n        return null;\n    }\n    getVariantOptionValue(qualifiers) {\n        const obj = qualifiers.find((q) => q.qualifier === VariantQualifier.SIZE);\n        return obj ? obj.value : '';\n    }\n}\nProductVariantSizeSelectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorComponent, deps: [{ token: i1.ProductService }, { token: i1.RoutingService }], target: i0.ɵɵFactoryTarget.Component });\nProductVariantSizeSelectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductVariantSizeSelectorComponent, selector: \"cx-product-variant-size-selector\", inputs: { product: \"product\", variants: \"variants\" }, ngImport: i0, template: \"<ng-container>\\n  <div class=\\\"variant-selector\\\">\\n    <div class=\\\"variant-name\\\">{{ 'productVariants.size' | cxTranslate }}:</div>\\n    <select\\n      (change)=\\\"changeSize($event.target.value)\\\"\\n      class=\\\"form-control variant-select\\\"\\n    >\\n      <option\\n        *ngFor=\\\"let v of variants?.options\\\"\\n        value=\\\"{{ v.code }}\\\"\\n        [selected]=\\\"v.code === product?.code\\\"\\n      >\\n        {{ getVariantOptionValue(v.variantOptionQualifiers) }}\\n      </option>\\n    </select>\\n    <a\\n      href=\\\"#\\\"\\n      class=\\\"size-guide\\\"\\n      title=\\\"{{ 'productVariants.sizeGuideLabel' | cxTranslate }}\\\"\\n    >\\n      {{ 'productVariants.sizeGuideLabel' | cxTranslate }}\\n    </a>\\n  </div>\\n</ng-container>\\n\", directives: [{ type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"cxTranslate\": i1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-variant-size-selector',\n                    templateUrl: './product-variant-size-selector.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ProductService }, { type: i1.RoutingService }]; }, propDecorators: { product: [{\n                type: Input\n            }], variants: [{\n                type: Input\n            }] } });\n\nclass ProductVariantSizeSelectorModule {\n}\nProductVariantSizeSelectorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantSizeSelectorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorModule, declarations: [ProductVariantSizeSelectorComponent], imports: [CommonModule, RouterModule, UrlModule, I18nModule], exports: [ProductVariantSizeSelectorComponent] });\nProductVariantSizeSelectorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorModule, imports: [[CommonModule, RouterModule, UrlModule, I18nModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantSizeSelectorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n                    declarations: [ProductVariantSizeSelectorComponent],\n                    exports: [ProductVariantSizeSelectorComponent],\n                }]\n        }] });\n\nclass ProductVariantStyleSelectorComponent {\n    constructor(config, productService, routingService) {\n        this.config = config;\n        this.productService = productService;\n        this.routingService = routingService;\n        this.variantQualifier = VariantQualifier;\n    }\n    getVariantOptionValue(qualifiers) {\n        const obj = qualifiers.find((q) => q.qualifier === VariantQualifier.STYLE);\n        return obj ? obj.value : '';\n    }\n    getVariantThumbnailUrl(variantOptionQualifiers) {\n        var _a, _b, _c, _d;\n        const qualifier = variantOptionQualifiers.find((item) => item.image);\n        return qualifier\n            ? `${(_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.backend) === null || _b === void 0 ? void 0 : _b.occ) === null || _c === void 0 ? void 0 : _c.baseUrl}${(_d = qualifier.image) === null || _d === void 0 ? void 0 : _d.url}`\n            : '';\n    }\n    changeStyle(code) {\n        if (code) {\n            this.productService\n                .get(code, \"list\" /* LIST */)\n                .pipe(\n            // below call might looks redundant but in fact this data is going to be loaded anyways\n            // we're just calling it earlier and storing\n            filter((p) => !!p), take(1))\n                .subscribe((product) => {\n                this.routingService.go({\n                    cxRoute: 'product',\n                    params: product,\n                });\n            });\n        }\n        return null;\n    }\n}\nProductVariantStyleSelectorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorComponent, deps: [{ token: i1.OccConfig }, { token: i1.ProductService }, { token: i1.RoutingService }], target: i0.ɵɵFactoryTarget.Component });\nProductVariantStyleSelectorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductVariantStyleSelectorComponent, selector: \"cx-product-variant-style-selector\", inputs: { variants: \"variants\" }, ngImport: i0, template: \"<ng-container>\\n  <div class=\\\"variant-selector\\\">\\n    <div *ngIf=\\\"variants.selected\\\" class=\\\"variant-name\\\">\\n      {{ 'productVariants.style' | cxTranslate }}:\\n      <span class=\\\"style-name\\\">{{\\n        getVariantOptionValue(variants?.selected.variantOptionQualifiers)\\n      }}</span>\\n    </div>\\n    <ul class=\\\"variant-list\\\">\\n      <li\\n        *ngFor=\\\"let v of variants?.options\\\"\\n        [ngClass]=\\\"{ 'selected-variant': v.code === variants?.selected?.code }\\\"\\n      >\\n        <button class=\\\"variant-button\\\" (click)=\\\"changeStyle(v.code)\\\">\\n          <img\\n            src=\\\"{{ getVariantThumbnailUrl(v.variantOptionQualifiers) }}\\\"\\n            title=\\\"{{ getVariantOptionValue(v.variantOptionQualifiers) }}\\\"\\n            alt=\\\"{{ getVariantOptionValue(v.variantOptionQualifiers) }}\\\"\\n          />\\n        </button>\\n      </li>\\n    </ul>\\n  </div>\\n</ng-container>\\n\", directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], pipes: { \"cxTranslate\": i1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-variant-style-selector',\n                    templateUrl: './product-variant-style-selector.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.OccConfig }, { type: i1.ProductService }, { type: i1.RoutingService }]; }, propDecorators: { variants: [{\n                type: Input\n            }] } });\n\nclass ProductVariantStyleSelectorModule {\n}\nProductVariantStyleSelectorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantStyleSelectorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorModule, declarations: [ProductVariantStyleSelectorComponent], imports: [CommonModule, RouterModule, UrlModule, I18nModule], exports: [ProductVariantStyleSelectorComponent] });\nProductVariantStyleSelectorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorModule, imports: [[CommonModule, RouterModule, UrlModule, I18nModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleSelectorModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n                    declarations: [ProductVariantStyleSelectorComponent],\n                    exports: [ProductVariantStyleSelectorComponent],\n                }]\n        }] });\n\nclass ProductVariantsContainerComponent {\n    constructor(currentProductService) {\n        this.currentProductService = currentProductService;\n        this.variants = {};\n        this.variantType = VariantType;\n    }\n    ngOnInit() {\n        this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), filter((product) => !!product.baseOptions), distinctUntilChanged(), tap((product) => {\n            product.baseOptions.forEach((option) => {\n                if (option === null || option === void 0 ? void 0 : option.variantType) {\n                    this.variants[option.variantType] = option;\n                }\n            });\n        }));\n    }\n}\nProductVariantsContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerComponent, deps: [{ token: i1$1.CurrentProductService }], target: i0.ɵɵFactoryTarget.Component });\nProductVariantsContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductVariantsContainerComponent, selector: \"cx-product-variants-container\", ngImport: i0, template: \"<ng-container *ngIf=\\\"product$ | async as product\\\">\\n  <div class=\\\"variant-section\\\" *ngIf=\\\"product.baseOptions?.length\\\">\\n    <cx-product-variant-style-selector\\n      *ngIf=\\\"variants[variantType.STYLE]\\\"\\n      [variants]=\\\"variants[variantType.STYLE]\\\"\\n    ></cx-product-variant-style-selector>\\n    <cx-product-variant-size-selector\\n      *ngIf=\\\"variants[variantType.SIZE]\\\"\\n      [product]=\\\"product\\\"\\n      [variants]=\\\"variants[variantType.SIZE]\\\"\\n    ></cx-product-variant-size-selector>\\n    <cx-product-variant-color-selector\\n      *ngIf=\\\"variants[variantType.COLOR]\\\"\\n      [product]=\\\"product\\\"\\n      [variants]=\\\"variants[variantType.COLOR]\\\"\\n    ></cx-product-variant-color-selector>\\n  </div>\\n</ng-container>\\n\", components: [{ type: ProductVariantStyleSelectorComponent, selector: \"cx-product-variant-style-selector\", inputs: [\"variants\"] }, { type: ProductVariantSizeSelectorComponent, selector: \"cx-product-variant-size-selector\", inputs: [\"product\", \"variants\"] }, { type: ProductVariantColorSelectorComponent, selector: \"cx-product-variant-color-selector\", inputs: [\"product\", \"variants\"] }], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i2.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-variants-container',\n                    templateUrl: './product-variants-container.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.CurrentProductService }]; } });\n\nclass ProductVariantsContainerModule {\n}\nProductVariantsContainerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantsContainerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerModule, declarations: [ProductVariantsContainerComponent], imports: [CommonModule,\n        RouterModule,\n        UrlModule,\n        I18nModule,\n        ProductVariantStyleSelectorModule,\n        ProductVariantSizeSelectorModule,\n        ProductVariantColorSelectorModule] });\nProductVariantsContainerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerModule, imports: [[\n            CommonModule,\n            RouterModule,\n            UrlModule,\n            I18nModule,\n            ProductVariantStyleSelectorModule,\n            ProductVariantSizeSelectorModule,\n            ProductVariantColorSelectorModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsContainerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        RouterModule,\n                        UrlModule,\n                        I18nModule,\n                        ProductVariantStyleSelectorModule,\n                        ProductVariantSizeSelectorModule,\n                        ProductVariantColorSelectorModule,\n                    ],\n                    declarations: [ProductVariantsContainerComponent],\n                }]\n        }] });\n\n/**\n * Guard that will redirect to purchasable variant of product, if the navigation\n * is for the non-purchasable one\n */\nclass ProductVariantsGuard {\n    constructor(productService, semanticPathService, router) {\n        this.productService = productService;\n        this.semanticPathService = semanticPathService;\n        this.router = router;\n    }\n    canActivate(activatedRoute) {\n        var _a;\n        const productCode = (_a = activatedRoute.params) === null || _a === void 0 ? void 0 : _a.productCode;\n        if (!productCode) {\n            return of(true);\n        }\n        return this.productService.get(productCode, \"variants\" /* VARIANTS */).pipe(filter((p) => !!p), switchMap((product) => {\n            if (!product.purchasable) {\n                const purchasableCode = this.findPurchasableProductCode(product);\n                if (purchasableCode) {\n                    return this.productService\n                        .get(purchasableCode, \"list\" /* LIST */)\n                        .pipe(filter((p) => !!p), take(1), map((_product) => {\n                        return this.router.createUrlTree(this.semanticPathService.transform({\n                            cxRoute: 'product',\n                            params: _product,\n                        }));\n                    }));\n                }\n            }\n            return of(true);\n        }));\n    }\n    /**\n     * Finds a purchasable product code looking at variant options, if any\n     *\n     * @param product\n     */\n    findPurchasableProductCode(product) {\n        var _a, _b, _c;\n        if ((_a = product.variantOptions) === null || _a === void 0 ? void 0 : _a.length) {\n            const results = product.variantOptions.filter((variant) => {\n                return variant.stock && variant.stock.stockLevel ? variant : false;\n            });\n            return results && results.length\n                ? (_b = results[0]) === null || _b === void 0 ? void 0 : _b.code\n                : (_c = product.variantOptions[0]) === null || _c === void 0 ? void 0 : _c.code;\n        }\n        return undefined;\n    }\n}\nProductVariantsGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsGuard, deps: [{ token: i1.ProductService }, { token: i1.SemanticPathService }, { token: i2$1.Router }], target: i0.ɵɵFactoryTarget.Injectable });\nProductVariantsGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i1.ProductService }, { type: i1.SemanticPathService }, { type: i2$1.Router }]; } });\n\nclass ProductVariantsComponentsModule {\n}\nProductVariantsComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantsComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsComponentsModule, imports: [ProductVariantsContainerModule,\n        ProductVariantColorSelectorModule,\n        ProductVariantSizeSelectorModule,\n        ProductVariantStyleSelectorModule] });\nProductVariantsComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsComponentsModule, providers: [\n        provideDefaultConfig({\n            cmsComponents: {\n                ProductVariantSelectorComponent: {\n                    component: ProductVariantsContainerComponent,\n                    guards: [ProductVariantsGuard],\n                },\n            },\n        }),\n    ], imports: [[\n            ProductVariantsContainerModule,\n            ProductVariantColorSelectorModule,\n            ProductVariantSizeSelectorModule,\n            ProductVariantStyleSelectorModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        ProductVariantsContainerModule,\n                        ProductVariantColorSelectorModule,\n                        ProductVariantSizeSelectorModule,\n                        ProductVariantStyleSelectorModule,\n                    ],\n                    providers: [\n                        provideDefaultConfig({\n                            cmsComponents: {\n                                ProductVariantSelectorComponent: {\n                                    component: ProductVariantsContainerComponent,\n                                    guards: [ProductVariantsGuard],\n                                },\n                            },\n                        }),\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductVariantColorSelectorComponent, ProductVariantColorSelectorModule, ProductVariantSizeSelectorComponent, ProductVariantSizeSelectorModule, ProductVariantStyleSelectorComponent, ProductVariantStyleSelectorModule, ProductVariantsComponentsModule, ProductVariantsContainerComponent, ProductVariantsContainerModule, ProductVariantsGuard };\n//# sourceMappingURL=spartacus-product-variants-components.js.map\n",null,null,null,null],"mappings":"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"},"metadata":{},"sourceType":"module"}